!function(C,q){true?q(P):0}(this,(function(C){"use strict";const P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:C=>`Symbol(${C})`;function r(){}function o(C){return"object"==typeof C&&null!==C||"function"==typeof C}const q=r;function a(C,P){try{Object.defineProperty(C,"name",{value:P,configurable:!0})}catch(C){}}const oe=Promise,ie=Promise.prototype.then,Ge=Promise.resolve.bind(oe),st=Promise.reject.bind(oe);function c(C){return new oe(C)}function d(C){return Ge(C)}function f(C){return st(C)}function b(C,P,q){return ie.call(C,P,q)}function h(C,P,oe){b(b(C,P,oe),void 0,q)}function _(C,P){h(C,P)}function p(C,P){h(C,void 0,P)}function m(C,P,q){return b(C,P,q)}function y(C){b(C,void 0,q)}let g=C=>{if("function"==typeof queueMicrotask)g=queueMicrotask;else{const C=d(void 0);g=P=>b(C,P)}return g(C)};function S(C,P,q){if("function"!=typeof C)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(C,P,q)}function w(C,P,q){try{return d(S(C,P,q))}catch(C){return f(C)}}class v{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(C){const P=this._back;let q=P;16383===P._elements.length&&(q={_elements:[],_next:void 0}),P._elements.push(C),q!==P&&(this._back=q,P._next=q),++this._size}shift(){const C=this._front;let P=C;const q=this._cursor;let oe=q+1;const ie=C._elements,Ge=ie[q];return 16384===oe&&(P=C._next,oe=0),--this._size,this._cursor=oe,C!==P&&(this._front=P),ie[q]=void 0,Ge}forEach(C){let P=this._cursor,q=this._front,oe=q._elements;for(;!(P===oe.length&&void 0===q._next||P===oe.length&&(q=q._next,oe=q._elements,P=0,0===oe.length));)C(oe[P]),++P}peek(){const C=this._front,P=this._cursor;return C._elements[P]}}const Ot=P("[[AbortSteps]]"),Wt=P("[[ErrorSteps]]"),Ar=P("[[CancelSteps]]"),Er=P("[[PullSteps]]"),Qr=P("[[ReleaseSteps]]");function E(C,P){C._ownerReadableStream=P,P._reader=C,"readable"===P._state?B(C):"closed"===P._state?function(C){B(C),z(C)}(C):A(C,P._storedError)}function W(C,P){return Xt(C._ownerReadableStream,P)}function O(C){const P=C._ownerReadableStream;"readable"===P._state?j(C,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(C,P){A(C,P)}(C,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),P._readableStreamController[Qr](),P._reader=void 0,C._ownerReadableStream=void 0}function k(C){return new TypeError("Cannot "+C+" a stream using a released reader")}function B(C){C._closedPromise=c(((P,q)=>{C._closedPromise_resolve=P,C._closedPromise_reject=q}))}function A(C,P){B(C),j(C,P)}function j(C,P){void 0!==C._closedPromise_reject&&(y(C._closedPromise),C._closedPromise_reject(P),C._closedPromise_resolve=void 0,C._closedPromise_reject=void 0)}function z(C){void 0!==C._closedPromise_resolve&&(C._closedPromise_resolve(void 0),C._closedPromise_resolve=void 0,C._closedPromise_reject=void 0)}const Br=Number.isFinite||function(C){return"number"==typeof C&&isFinite(C)},Ir=Math.trunc||function(C){return C<0?Math.ceil(C):Math.floor(C)};function D(C,P){if(void 0!==C&&("object"!=typeof(q=C)&&"function"!=typeof q))throw new TypeError(`${P} is not an object.`);var q}function I(C,P){if("function"!=typeof C)throw new TypeError(`${P} is not a function.`)}function $(C,P){if(!function(C){return"object"==typeof C&&null!==C||"function"==typeof C}(C))throw new TypeError(`${P} is not an object.`)}function M(C,P,q){if(void 0===C)throw new TypeError(`Parameter ${P} is required in '${q}'.`)}function Y(C,P,q){if(void 0===C)throw new TypeError(`${P} is required in '${q}'.`)}function Q(C){return Number(C)}function N(C){return 0===C?0:C}function x(C,P){const q=Number.MAX_SAFE_INTEGER;let oe=Number(C);if(oe=N(oe),!Br(oe))throw new TypeError(`${P} is not a finite number`);if(oe=function(C){return N(Ir(C))}(oe),oe<0||oe>q)throw new TypeError(`${P} is outside the accepted range of 0 to ${q}, inclusive`);return Br(oe)&&0!==oe?oe:0}function H(C){if(!o(C))return!1;if("function"!=typeof C.getReader)return!1;try{return"boolean"==typeof C.locked}catch(C){return!1}}function V(C){if(!o(C))return!1;if("function"!=typeof C.getWriter)return!1;try{return"boolean"==typeof C.locked}catch(C){return!1}}function U(C,P){if(!Ut(C))throw new TypeError(`${P} is not a ReadableStream.`)}function G(C,P){C._reader._readRequests.push(P)}function X(C,P,q){const oe=C._reader._readRequests.shift();q?oe._closeSteps():oe._chunkSteps(P)}function J(C){return C._reader._readRequests.length}function K(C){const P=C._reader;return void 0!==P&&!!Z(P)}class ReadableStreamDefaultReader{constructor(C){if(M(C,1,"ReadableStreamDefaultReader"),U(C,"First parameter"),Gt(C))throw new TypeError("This stream has already been locked for exclusive reading by another reader");E(this,C),this._readRequests=new v}get closed(){return Z(this)?this._closedPromise:f(te("closed"))}cancel(C){return Z(this)?void 0===this._ownerReadableStream?f(k("cancel")):W(this,C):f(te("cancel"))}read(){if(!Z(this))return f(te("read"));if(void 0===this._ownerReadableStream)return f(k("read from"));let C,P;const q=c(((q,oe)=>{C=q,P=oe}));return function(C,P){const q=C._ownerReadableStream;q._disturbed=!0,"closed"===q._state?P._closeSteps():"errored"===q._state?P._errorSteps(q._storedError):q._readableStreamController[Er](P)}(this,{_chunkSteps:P=>C({value:P,done:!1}),_closeSteps:()=>C({value:void 0,done:!0}),_errorSteps:C=>P(C)}),q}releaseLock(){if(!Z(this))throw te("releaseLock");void 0!==this._ownerReadableStream&&function(C){O(C);const P=new TypeError("Reader was released");ee(C,P)}(this)}}function Z(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_readRequests")&&C instanceof ReadableStreamDefaultReader)}function ee(C,P){const q=C._readRequests;C._readRequests=new v,q.forEach((C=>{C._errorSteps(P)}))}function te(C){return new TypeError(`ReadableStreamDefaultReader.prototype.${C} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(ReadableStreamDefaultReader.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),a(ReadableStreamDefaultReader.prototype.cancel,"cancel"),a(ReadableStreamDefaultReader.prototype.read,"read"),a(ReadableStreamDefaultReader.prototype.releaseLock,"releaseLock"),"symbol"==typeof P.toStringTag&&Object.defineProperty(ReadableStreamDefaultReader.prototype,P.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});class re{constructor(C,P){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=C,this._preventCancel=P}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?m(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(C){const t=()=>this._returnSteps(C);return this._ongoingPromise?m(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const C=this._reader;return void 0===C?f(k("iterate")):b(C.read(),(C=>{var P;return this._ongoingPromise=void 0,C.done&&(this._isFinished=!0,null===(P=this._reader)||void 0===P||P.releaseLock(),this._reader=void 0),C}),(C=>{var P;throw this._ongoingPromise=void 0,this._isFinished=!0,null===(P=this._reader)||void 0===P||P.releaseLock(),this._reader=void 0,C}))}_returnSteps(C){if(this._isFinished)return Promise.resolve({value:C,done:!0});this._isFinished=!0;const P=this._reader;if(void 0===P)return f(k("finish iterating"));if(this._reader=void 0,!this._preventCancel){const q=P.cancel(C);return P.releaseLock(),m(q,(()=>({value:C,done:!0})))}return P.releaseLock(),d({value:C,done:!0})}}const Dr={next(){return ne(this)?this._asyncIteratorImpl.next():f(ae("next"))},return(C){return ne(this)?this._asyncIteratorImpl.return(C):f(ae("return"))}};function ne(C){if(!o(C))return!1;if(!Object.prototype.hasOwnProperty.call(C,"_asyncIteratorImpl"))return!1;try{return C._asyncIteratorImpl instanceof re}catch(C){return!1}}function ae(C){return new TypeError(`ReadableStreamAsyncIterator.${C} can only be used on a ReadableSteamAsyncIterator`)}"symbol"==typeof P.asyncIterator&&Object.defineProperty(Dr,P.asyncIterator,{value(){return this},writable:!0,configurable:!0});const kr=Number.isNaN||function(C){return C!=C};function le(C,P,q,oe,ie){new Uint8Array(C).set(new Uint8Array(q,oe,ie),P)}function se(C){const P=function(C,P,q){if(C.slice)return C.slice(P,q);const oe=q-P,ie=new ArrayBuffer(oe);return le(ie,0,C,P,oe),ie}(C.buffer,C.byteOffset,C.byteOffset+C.byteLength);return new Uint8Array(P)}function ue(C){const P=C._queue.shift();return C._queueTotalSize-=P.size,C._queueTotalSize<0&&(C._queueTotalSize=0),P.value}function ce(C,P,q){if("number"!=typeof(oe=q)||kr(oe)||oe<0||q===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var oe;C._queue.push({value:P,size:q}),C._queueTotalSize+=q}function de(C){C._queue=new v,C._queueTotalSize=0}class ReadableStreamBYOBRequest{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!be(this))throw Ae("view");return this._view}respond(C){if(!be(this))throw Ae("respond");if(M(C,1,"respond"),C=x(C,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(C,P){const q=C._pendingPullIntos.peek();if("closed"===C._controlledReadableByteStream._state){if(0!==P)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===P)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(q.bytesFilled+P>q.byteLength)throw new RangeError("bytesWritten out of range")}q.buffer=q.buffer,Ce(C,P)}(this._associatedReadableByteStreamController,C)}respondWithNewView(C){if(!be(this))throw Ae("respondWithNewView");if(M(C,1,"respondWithNewView"),!ArrayBuffer.isView(C))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");C.buffer,function(C,P){const q=C._pendingPullIntos.peek();if("closed"===C._controlledReadableByteStream._state){if(0!==P.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===P.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(q.byteOffset+q.bytesFilled!==P.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(q.bufferByteLength!==P.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(q.bytesFilled+P.byteLength>q.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const oe=P.byteLength;q.buffer=P.buffer,Ce(C,oe)}(this._associatedReadableByteStreamController,C)}}Object.defineProperties(ReadableStreamBYOBRequest.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),a(ReadableStreamBYOBRequest.prototype.respond,"respond"),a(ReadableStreamBYOBRequest.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof P.toStringTag&&Object.defineProperty(ReadableStreamBYOBRequest.prototype,P.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class ReadableByteStreamController{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!fe(this))throw je("byobRequest");return function(C){if(null===C._byobRequest&&C._pendingPullIntos.length>0){const P=C._pendingPullIntos.peek(),q=new Uint8Array(P.buffer,P.byteOffset+P.bytesFilled,P.byteLength-P.bytesFilled),oe=Object.create(ReadableStreamBYOBRequest.prototype);!function(C,P,q){C._associatedReadableByteStreamController=P,C._view=q}(oe,C,q),C._byobRequest=oe}return C._byobRequest}(this)}get desiredSize(){if(!fe(this))throw je("desiredSize");return ke(this)}close(){if(!fe(this))throw je("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const C=this._controlledReadableByteStream._state;if("readable"!==C)throw new TypeError(`The stream (in ${C} state) is not in the readable state and cannot be closed`);!function(C){const P=C._controlledReadableByteStream;if(C._closeRequested||"readable"!==P._state)return;if(C._queueTotalSize>0)return void(C._closeRequested=!0);if(C._pendingPullIntos.length>0){if(C._pendingPullIntos.peek().bytesFilled>0){const P=new TypeError("Insufficient bytes to fill elements in the given buffer");throw We(C,P),P}}Ee(C),Jt(P)}(this)}enqueue(C){if(!fe(this))throw je("enqueue");if(M(C,1,"enqueue"),!ArrayBuffer.isView(C))throw new TypeError("chunk must be an array buffer view");if(0===C.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===C.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const P=this._controlledReadableByteStream._state;if("readable"!==P)throw new TypeError(`The stream (in ${P} state) is not in the readable state and cannot be enqueued to`);!function(C,P){const q=C._controlledReadableByteStream;if(C._closeRequested||"readable"!==q._state)return;const oe=P.buffer,ie=P.byteOffset,Ge=P.byteLength,st=oe;if(C._pendingPullIntos.length>0){const P=C._pendingPullIntos.peek();P.buffer,0,Te(C),P.buffer=P.buffer,"none"===P.readerType&&Se(C,P)}if(K(q))if(function(C){const P=C._controlledReadableByteStream._reader;for(;P._readRequests.length>0;){if(0===C._queueTotalSize)return;Oe(C,P._readRequests.shift())}}(C),0===J(q))ye(C,st,ie,Ge);else{C._pendingPullIntos.length>0&&Pe(C);X(q,new Uint8Array(st,ie,Ge),!1)}else Fe(q)?(ye(C,st,ie,Ge),qe(C)):ye(C,st,ie,Ge);he(C)}(this,C)}error(C){if(!fe(this))throw je("error");We(this,C)}[Ar](C){_e(this),de(this);const P=this._cancelAlgorithm(C);return Ee(this),P}[Er](C){const P=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Oe(this,C);const q=this._autoAllocateChunkSize;if(void 0!==q){let oe;try{oe=new ArrayBuffer(q)}catch(P){return void C._errorSteps(P)}const ie={buffer:oe,bufferByteLength:q,byteOffset:0,byteLength:q,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(ie)}G(P,C),he(this)}[Qr](){if(this._pendingPullIntos.length>0){const C=this._pendingPullIntos.peek();C.readerType="none",this._pendingPullIntos=new v,this._pendingPullIntos.push(C)}}}function fe(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_controlledReadableByteStream")&&C instanceof ReadableByteStreamController)}function be(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_associatedReadableByteStreamController")&&C instanceof ReadableStreamBYOBRequest)}function he(C){const P=function(C){const P=C._controlledReadableByteStream;if("readable"!==P._state)return!1;if(C._closeRequested)return!1;if(!C._started)return!1;if(K(P)&&J(P)>0)return!0;if(Fe(P)&&Le(P)>0)return!0;if(ke(C)>0)return!0;return!1}(C);if(!P)return;if(C._pulling)return void(C._pullAgain=!0);C._pulling=!0;h(C._pullAlgorithm(),(()=>(C._pulling=!1,C._pullAgain&&(C._pullAgain=!1,he(C)),null)),(P=>(We(C,P),null)))}function _e(C){Te(C),C._pendingPullIntos=new v}function pe(C,P){let q=!1;"closed"===C._state&&(q=!0);const oe=me(P);"default"===P.readerType?X(C,oe,q):function(C,P,q){const oe=C._reader._readIntoRequests.shift();q?oe._closeSteps(P):oe._chunkSteps(P)}(C,oe,q)}function me(C){const P=C.bytesFilled,q=C.elementSize;return new C.viewConstructor(C.buffer,C.byteOffset,P/q)}function ye(C,P,q,oe){C._queue.push({buffer:P,byteOffset:q,byteLength:oe}),C._queueTotalSize+=oe}function ge(C,P,q,oe){let ie;try{ie=P.slice(q,q+oe)}catch(P){throw We(C,P),P}ye(C,ie,0,oe)}function Se(C,P){P.bytesFilled>0&&ge(C,P.buffer,P.byteOffset,P.bytesFilled),Pe(C)}function we(C,P){const q=P.elementSize,oe=P.bytesFilled-P.bytesFilled%q,ie=Math.min(C._queueTotalSize,P.byteLength-P.bytesFilled),Ge=P.bytesFilled+ie,st=Ge-Ge%q;let Ot=ie,Wt=!1;st>oe&&(Ot=st-P.bytesFilled,Wt=!0);const Ar=C._queue;for(;Ot>0;){const q=Ar.peek(),oe=Math.min(Ot,q.byteLength),ie=P.byteOffset+P.bytesFilled;le(P.buffer,ie,q.buffer,q.byteOffset,oe),q.byteLength===oe?Ar.shift():(q.byteOffset+=oe,q.byteLength-=oe),C._queueTotalSize-=oe,ve(C,oe,P),Ot-=oe}return Wt}function ve(C,P,q){q.bytesFilled+=P}function Re(C){0===C._queueTotalSize&&C._closeRequested?(Ee(C),Jt(C._controlledReadableByteStream)):he(C)}function Te(C){null!==C._byobRequest&&(C._byobRequest._associatedReadableByteStreamController=void 0,C._byobRequest._view=null,C._byobRequest=null)}function qe(C){for(;C._pendingPullIntos.length>0;){if(0===C._queueTotalSize)return;const P=C._pendingPullIntos.peek();we(C,P)&&(Pe(C),pe(C._controlledReadableByteStream,P))}}function Ce(C,P){const q=C._pendingPullIntos.peek();Te(C);"closed"===C._controlledReadableByteStream._state?function(C,P){"none"===P.readerType&&Pe(C);const q=C._controlledReadableByteStream;if(Fe(q))for(;Le(q)>0;)pe(q,Pe(C))}(C,q):function(C,P,q){if(ve(0,P,q),"none"===q.readerType)return Se(C,q),void qe(C);if(q.bytesFilled<q.elementSize)return;Pe(C);const oe=q.bytesFilled%q.elementSize;if(oe>0){const P=q.byteOffset+q.bytesFilled;ge(C,q.buffer,P-oe,oe)}q.bytesFilled-=oe,pe(C._controlledReadableByteStream,q),qe(C)}(C,P,q),he(C)}function Pe(C){return C._pendingPullIntos.shift()}function Ee(C){C._pullAlgorithm=void 0,C._cancelAlgorithm=void 0}function We(C,P){const q=C._controlledReadableByteStream;"readable"===q._state&&(_e(C),de(C),Ee(C),Kt(q,P))}function Oe(C,P){const q=C._queue.shift();C._queueTotalSize-=q.byteLength,Re(C);const oe=new Uint8Array(q.buffer,q.byteOffset,q.byteLength);P._chunkSteps(oe)}function ke(C){const P=C._controlledReadableByteStream._state;return"errored"===P?null:"closed"===P?0:C._strategyHWM-C._queueTotalSize}function Be(C,P,q){const oe=Object.create(ReadableByteStreamController.prototype);let ie,Ge,st;ie=void 0!==P.start?()=>P.start(oe):()=>{},Ge=void 0!==P.pull?()=>P.pull(oe):()=>d(void 0),st=void 0!==P.cancel?C=>P.cancel(C):()=>d(void 0);const Ot=P.autoAllocateChunkSize;if(0===Ot)throw new TypeError("autoAllocateChunkSize must be greater than 0");!function(C,P,q,oe,ie,Ge,st){P._controlledReadableByteStream=C,P._pullAgain=!1,P._pulling=!1,P._byobRequest=null,P._queue=P._queueTotalSize=void 0,de(P),P._closeRequested=!1,P._started=!1,P._strategyHWM=Ge,P._pullAlgorithm=oe,P._cancelAlgorithm=ie,P._autoAllocateChunkSize=st,P._pendingPullIntos=new v,C._readableStreamController=P,h(d(q()),(()=>(P._started=!0,he(P),null)),(C=>(We(P,C),null)))}(C,oe,ie,Ge,st,q,Ot)}function Ae(C){return new TypeError(`ReadableStreamBYOBRequest.prototype.${C} can only be used on a ReadableStreamBYOBRequest`)}function je(C){return new TypeError(`ReadableByteStreamController.prototype.${C} can only be used on a ReadableByteStreamController`)}function ze(C,P){C._reader._readIntoRequests.push(P)}function Le(C){return C._reader._readIntoRequests.length}function Fe(C){const P=C._reader;return void 0!==P&&!!De(P)}Object.defineProperties(ReadableByteStreamController.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),a(ReadableByteStreamController.prototype.close,"close"),a(ReadableByteStreamController.prototype.enqueue,"enqueue"),a(ReadableByteStreamController.prototype.error,"error"),"symbol"==typeof P.toStringTag&&Object.defineProperty(ReadableByteStreamController.prototype,P.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class ReadableStreamBYOBReader{constructor(C){if(M(C,1,"ReadableStreamBYOBReader"),U(C,"First parameter"),Gt(C))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!fe(C._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");E(this,C),this._readIntoRequests=new v}get closed(){return De(this)?this._closedPromise:f($e("closed"))}cancel(C){return De(this)?void 0===this._ownerReadableStream?f(k("cancel")):W(this,C):f($e("cancel"))}read(C){if(!De(this))return f($e("read"));if(!ArrayBuffer.isView(C))return f(new TypeError("view must be an array buffer view"));if(0===C.byteLength)return f(new TypeError("view must have non-zero byteLength"));if(0===C.buffer.byteLength)return f(new TypeError("view's buffer must have non-zero byteLength"));if(C.buffer,void 0===this._ownerReadableStream)return f(k("read from"));let P,q;const oe=c(((C,oe)=>{P=C,q=oe}));return function(C,P,q){const oe=C._ownerReadableStream;oe._disturbed=!0,"errored"===oe._state?q._errorSteps(oe._storedError):function(C,P,q){const oe=C._controlledReadableByteStream;let ie=1;P.constructor!==DataView&&(ie=P.constructor.BYTES_PER_ELEMENT);const Ge=P.constructor,st=P.buffer,Ot={buffer:st,bufferByteLength:st.byteLength,byteOffset:P.byteOffset,byteLength:P.byteLength,bytesFilled:0,elementSize:ie,viewConstructor:Ge,readerType:"byob"};if(C._pendingPullIntos.length>0)return C._pendingPullIntos.push(Ot),void ze(oe,q);if("closed"!==oe._state){if(C._queueTotalSize>0){if(we(C,Ot)){const P=me(Ot);return Re(C),void q._chunkSteps(P)}if(C._closeRequested){const P=new TypeError("Insufficient bytes to fill elements in the given buffer");return We(C,P),void q._errorSteps(P)}}C._pendingPullIntos.push(Ot),ze(oe,q),he(C)}else{const C=new Ge(Ot.buffer,Ot.byteOffset,0);q._closeSteps(C)}}(oe._readableStreamController,P,q)}(this,C,{_chunkSteps:C=>P({value:C,done:!1}),_closeSteps:C=>P({value:C,done:!0}),_errorSteps:C=>q(C)}),oe}releaseLock(){if(!De(this))throw $e("releaseLock");void 0!==this._ownerReadableStream&&function(C){O(C);const P=new TypeError("Reader was released");Ie(C,P)}(this)}}function De(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_readIntoRequests")&&C instanceof ReadableStreamBYOBReader)}function Ie(C,P){const q=C._readIntoRequests;C._readIntoRequests=new v,q.forEach((C=>{C._errorSteps(P)}))}function $e(C){return new TypeError(`ReadableStreamBYOBReader.prototype.${C} can only be used on a ReadableStreamBYOBReader`)}function Me(C,P){const{highWaterMark:q}=C;if(void 0===q)return P;if(kr(q)||q<0)throw new RangeError("Invalid highWaterMark");return q}function Ye(C){const{size:P}=C;return P||(()=>1)}function Qe(C,P){D(C,P);const q=null==C?void 0:C.highWaterMark,oe=null==C?void 0:C.size;return{highWaterMark:void 0===q?void 0:Q(q),size:void 0===oe?void 0:Ne(oe,`${P} has member 'size' that`)}}function Ne(C,P){return I(C,P),P=>Q(C(P))}function xe(C,P,q){return I(C,q),q=>w(C,P,[q])}function He(C,P,q){return I(C,q),()=>w(C,P,[])}function Ve(C,P,q){return I(C,q),q=>S(C,P,[q])}function Ue(C,P,q){return I(C,q),(q,oe)=>w(C,P,[q,oe])}Object.defineProperties(ReadableStreamBYOBReader.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),a(ReadableStreamBYOBReader.prototype.cancel,"cancel"),a(ReadableStreamBYOBReader.prototype.read,"read"),a(ReadableStreamBYOBReader.prototype.releaseLock,"releaseLock"),"symbol"==typeof P.toStringTag&&Object.defineProperty(ReadableStreamBYOBReader.prototype,P.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const Fr="function"==typeof AbortController;class WritableStream{constructor(C={},P={}){void 0===C?C=null:$(C,"First parameter");const q=Qe(P,"Second parameter"),oe=function(C,P){D(C,P);const q=null==C?void 0:C.abort,oe=null==C?void 0:C.close,ie=null==C?void 0:C.start,Ge=null==C?void 0:C.type,st=null==C?void 0:C.write;return{abort:void 0===q?void 0:xe(q,C,`${P} has member 'abort' that`),close:void 0===oe?void 0:He(oe,C,`${P} has member 'close' that`),start:void 0===ie?void 0:Ve(ie,C,`${P} has member 'start' that`),write:void 0===st?void 0:Ue(st,C,`${P} has member 'write' that`),type:Ge}}(C,"First parameter");var ie;(ie=this)._state="writable",ie._storedError=void 0,ie._writer=void 0,ie._writableStreamController=void 0,ie._writeRequests=new v,ie._inFlightWriteRequest=void 0,ie._closeRequest=void 0,ie._inFlightCloseRequest=void 0,ie._pendingAbortRequest=void 0,ie._backpressure=!1;if(void 0!==oe.type)throw new RangeError("Invalid type is specified");const Ge=Ye(q);!function(C,P,q,oe){const ie=Object.create(WritableStreamDefaultController.prototype);let Ge,st,Ot,Wt;Ge=void 0!==P.start?()=>P.start(ie):()=>{};st=void 0!==P.write?C=>P.write(C,ie):()=>d(void 0);Ot=void 0!==P.close?()=>P.close():()=>d(void 0);Wt=void 0!==P.abort?C=>P.abort(C):()=>d(void 0);!function(C,P,q,oe,ie,Ge,st,Ot){P._controlledWritableStream=C,C._writableStreamController=P,P._queue=void 0,P._queueTotalSize=void 0,de(P),P._abortReason=void 0,P._abortController=function(){if(Fr)return new AbortController}(),P._started=!1,P._strategySizeAlgorithm=Ot,P._strategyHWM=st,P._writeAlgorithm=oe,P._closeAlgorithm=ie,P._abortAlgorithm=Ge;const Wt=ht(P);at(C,Wt);const Ar=q();h(d(Ar),(()=>(P._started=!0,ft(P),null)),(q=>(P._started=!0,et(C,q),null)))}(C,ie,Ge,st,Ot,Wt,q,oe)}(this,oe,Me(q,1),Ge)}get locked(){if(!Xe(this))throw pt("locked");return Je(this)}abort(C){return Xe(this)?Je(this)?f(new TypeError("Cannot abort a stream that already has a writer")):Ke(this,C):f(pt("abort"))}close(){return Xe(this)?Je(this)?f(new TypeError("Cannot close a stream that already has a writer")):ot(this)?f(new TypeError("Cannot close an already-closing stream")):Ze(this):f(pt("close"))}getWriter(){if(!Xe(this))throw pt("getWriter");return new WritableStreamDefaultWriter(this)}}function Xe(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_writableStreamController")&&C instanceof WritableStream)}function Je(C){return void 0!==C._writer}function Ke(C,P){var q;if("closed"===C._state||"errored"===C._state)return d(void 0);C._writableStreamController._abortReason=P,null===(q=C._writableStreamController._abortController)||void 0===q||q.abort(P);const oe=C._state;if("closed"===oe||"errored"===oe)return d(void 0);if(void 0!==C._pendingAbortRequest)return C._pendingAbortRequest._promise;let ie=!1;"erroring"===oe&&(ie=!0,P=void 0);const Ge=c(((q,oe)=>{C._pendingAbortRequest={_promise:void 0,_resolve:q,_reject:oe,_reason:P,_wasAlreadyErroring:ie}}));return C._pendingAbortRequest._promise=Ge,ie||tt(C,P),Ge}function Ze(C){const P=C._state;if("closed"===P||"errored"===P)return f(new TypeError(`The stream (in ${P} state) is not in the writable state and cannot be closed`));const q=c(((P,q)=>{const oe={_resolve:P,_reject:q};C._closeRequest=oe})),oe=C._writer;var ie;return void 0!==oe&&C._backpressure&&"writable"===P&&Et(oe),ce(ie=C._writableStreamController,Nr,0),ft(ie),q}function et(C,P){"writable"!==C._state?rt(C):tt(C,P)}function tt(C,P){const q=C._writableStreamController;C._state="erroring",C._storedError=P;const oe=C._writer;void 0!==oe&&lt(oe,P),!function(C){if(void 0===C._inFlightWriteRequest&&void 0===C._inFlightCloseRequest)return!1;return!0}(C)&&q._started&&rt(C)}function rt(C){C._state="errored",C._writableStreamController[Wt]();const P=C._storedError;if(C._writeRequests.forEach((C=>{C._reject(P)})),C._writeRequests=new v,void 0===C._pendingAbortRequest)return void nt(C);const q=C._pendingAbortRequest;if(C._pendingAbortRequest=void 0,q._wasAlreadyErroring)return q._reject(P),void nt(C);h(C._writableStreamController[Ot](q._reason),(()=>(q._resolve(),nt(C),null)),(P=>(q._reject(P),nt(C),null)))}function ot(C){return void 0!==C._closeRequest||void 0!==C._inFlightCloseRequest}function nt(C){void 0!==C._closeRequest&&(C._closeRequest._reject(C._storedError),C._closeRequest=void 0);const P=C._writer;void 0!==P&&vt(P,C._storedError)}function at(C,P){const q=C._writer;void 0!==q&&P!==C._backpressure&&(P?function(C){Tt(C)}(q):Et(q)),C._backpressure=P}Object.defineProperties(WritableStream.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),a(WritableStream.prototype.abort,"abort"),a(WritableStream.prototype.close,"close"),a(WritableStream.prototype.getWriter,"getWriter"),"symbol"==typeof P.toStringTag&&Object.defineProperty(WritableStream.prototype,P.toStringTag,{value:"WritableStream",configurable:!0});class WritableStreamDefaultWriter{constructor(C){if(M(C,1,"WritableStreamDefaultWriter"),function(C,P){if(!Xe(C))throw new TypeError(`${P} is not a WritableStream.`)}(C,"First parameter"),Je(C))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=C,C._writer=this;const P=C._state;if("writable"===P)!ot(C)&&C._backpressure?Tt(this):Ct(this),St(this);else if("erroring"===P)qt(this,C._storedError),St(this);else if("closed"===P)Ct(this),St(q=this),Rt(q);else{const P=C._storedError;qt(this,P),wt(this,P)}var q}get closed(){return it(this)?this._closedPromise:f(yt("closed"))}get desiredSize(){if(!it(this))throw yt("desiredSize");if(void 0===this._ownerWritableStream)throw gt("desiredSize");return function(C){const P=C._ownerWritableStream,q=P._state;if("errored"===q||"erroring"===q)return null;if("closed"===q)return 0;return dt(P._writableStreamController)}(this)}get ready(){return it(this)?this._readyPromise:f(yt("ready"))}abort(C){return it(this)?void 0===this._ownerWritableStream?f(gt("abort")):function(C,P){return Ke(C._ownerWritableStream,P)}(this,C):f(yt("abort"))}close(){if(!it(this))return f(yt("close"));const C=this._ownerWritableStream;return void 0===C?f(gt("close")):ot(C)?f(new TypeError("Cannot close an already-closing stream")):Ze(this._ownerWritableStream)}releaseLock(){if(!it(this))throw yt("releaseLock");void 0!==this._ownerWritableStream&&function(C){const P=C._ownerWritableStream,q=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");lt(C,q),function(C,P){"pending"===C._closedPromiseState?vt(C,P):function(C,P){wt(C,P)}(C,P)}(C,q),P._writer=void 0,C._ownerWritableStream=void 0}(this)}write(C){return it(this)?void 0===this._ownerWritableStream?f(gt("write to")):function(C,P){const q=C._ownerWritableStream,oe=q._writableStreamController,ie=function(C,P){try{return C._strategySizeAlgorithm(P)}catch(P){return bt(C,P),1}}(oe,P);if(q!==C._ownerWritableStream)return f(gt("write to"));const Ge=q._state;if("errored"===Ge)return f(q._storedError);if(ot(q)||"closed"===Ge)return f(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===Ge)return f(q._storedError);const st=function(C){return c(((P,q)=>{const oe={_resolve:P,_reject:q};C._writeRequests.push(oe)}))}(q);return function(C,P,q){try{ce(C,P,q)}catch(P){return void bt(C,P)}const oe=C._controlledWritableStream;if(!ot(oe)&&"writable"===oe._state){at(oe,ht(C))}ft(C)}(oe,P,ie),st}(this,C):f(yt("write"))}}function it(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_ownerWritableStream")&&C instanceof WritableStreamDefaultWriter)}function lt(C,P){"pending"===C._readyPromiseState?Pt(C,P):function(C,P){qt(C,P)}(C,P)}Object.defineProperties(WritableStreamDefaultWriter.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),a(WritableStreamDefaultWriter.prototype.abort,"abort"),a(WritableStreamDefaultWriter.prototype.close,"close"),a(WritableStreamDefaultWriter.prototype.releaseLock,"releaseLock"),a(WritableStreamDefaultWriter.prototype.write,"write"),"symbol"==typeof P.toStringTag&&Object.defineProperty(WritableStreamDefaultWriter.prototype,P.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Nr={};class WritableStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!ut(this))throw mt("abortReason");return this._abortReason}get signal(){if(!ut(this))throw mt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(C){if(!ut(this))throw mt("error");"writable"===this._controlledWritableStream._state&&_t(this,C)}[Ot](C){const P=this._abortAlgorithm(C);return ct(this),P}[Wt](){de(this)}}function ut(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_controlledWritableStream")&&C instanceof WritableStreamDefaultController)}function ct(C){C._writeAlgorithm=void 0,C._closeAlgorithm=void 0,C._abortAlgorithm=void 0,C._strategySizeAlgorithm=void 0}function dt(C){return C._strategyHWM-C._queueTotalSize}function ft(C){const P=C._controlledWritableStream;if(!C._started)return;if(void 0!==P._inFlightWriteRequest)return;if("erroring"===P._state)return void rt(P);if(0===C._queue.length)return;const q=C._queue.peek().value;q===Nr?function(C){const P=C._controlledWritableStream;(function(C){C._inFlightCloseRequest=C._closeRequest,C._closeRequest=void 0})(P),ue(C);const q=C._closeAlgorithm();ct(C),h(q,(()=>(function(C){C._inFlightCloseRequest._resolve(void 0),C._inFlightCloseRequest=void 0,"erroring"===C._state&&(C._storedError=void 0,void 0!==C._pendingAbortRequest&&(C._pendingAbortRequest._resolve(),C._pendingAbortRequest=void 0)),C._state="closed";const P=C._writer;void 0!==P&&Rt(P)}(P),null)),(C=>(function(C,P){C._inFlightCloseRequest._reject(P),C._inFlightCloseRequest=void 0,void 0!==C._pendingAbortRequest&&(C._pendingAbortRequest._reject(P),C._pendingAbortRequest=void 0),et(C,P)}(P,C),null)))}(C):function(C,P){const q=C._controlledWritableStream;!function(C){C._inFlightWriteRequest=C._writeRequests.shift()}(q);h(C._writeAlgorithm(P),(()=>{!function(C){C._inFlightWriteRequest._resolve(void 0),C._inFlightWriteRequest=void 0}(q);const P=q._state;if(ue(C),!ot(q)&&"writable"===P){const P=ht(C);at(q,P)}return ft(C),null}),(P=>("writable"===q._state&&ct(C),function(C,P){C._inFlightWriteRequest._reject(P),C._inFlightWriteRequest=void 0,et(C,P)}(q,P),null)))}(C,q)}function bt(C,P){"writable"===C._controlledWritableStream._state&&_t(C,P)}function ht(C){return dt(C)<=0}function _t(C,P){const q=C._controlledWritableStream;ct(C),tt(q,P)}function pt(C){return new TypeError(`WritableStream.prototype.${C} can only be used on a WritableStream`)}function mt(C){return new TypeError(`WritableStreamDefaultController.prototype.${C} can only be used on a WritableStreamDefaultController`)}function yt(C){return new TypeError(`WritableStreamDefaultWriter.prototype.${C} can only be used on a WritableStreamDefaultWriter`)}function gt(C){return new TypeError("Cannot "+C+" a stream using a released writer")}function St(C){C._closedPromise=c(((P,q)=>{C._closedPromise_resolve=P,C._closedPromise_reject=q,C._closedPromiseState="pending"}))}function wt(C,P){St(C),vt(C,P)}function vt(C,P){void 0!==C._closedPromise_reject&&(y(C._closedPromise),C._closedPromise_reject(P),C._closedPromise_resolve=void 0,C._closedPromise_reject=void 0,C._closedPromiseState="rejected")}function Rt(C){void 0!==C._closedPromise_resolve&&(C._closedPromise_resolve(void 0),C._closedPromise_resolve=void 0,C._closedPromise_reject=void 0,C._closedPromiseState="resolved")}function Tt(C){C._readyPromise=c(((P,q)=>{C._readyPromise_resolve=P,C._readyPromise_reject=q})),C._readyPromiseState="pending"}function qt(C,P){Tt(C),Pt(C,P)}function Ct(C){Tt(C),Et(C)}function Pt(C,P){void 0!==C._readyPromise_reject&&(y(C._readyPromise),C._readyPromise_reject(P),C._readyPromise_resolve=void 0,C._readyPromise_reject=void 0,C._readyPromiseState="rejected")}function Et(C){void 0!==C._readyPromise_resolve&&(C._readyPromise_resolve(void 0),C._readyPromise_resolve=void 0,C._readyPromise_reject=void 0,C._readyPromiseState="fulfilled")}Object.defineProperties(WritableStreamDefaultController.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof P.toStringTag&&Object.defineProperty(WritableStreamDefaultController.prototype,P.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Ur="undefined"!=typeof DOMException?DOMException:void 0;const Lr=function(C){if("function"!=typeof C&&"object"!=typeof C)return!1;try{return new C,!0}catch(C){return!1}}(Ur)?Ur:function(){const e=function(C,P){this.message=C||"",this.name=P||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function kt(C,P,q,oe,ie,Ge){const st=C.getReader(),Ot=P.getWriter();Ut(C)&&(C._disturbed=!0);let Wt,Ar,Er,Qr=!1,Br=!1,Ir="readable",Dr="writable",kr=!1,Fr=!1;const Nr=c((C=>{Er=C}));let Ur=Promise.resolve(void 0);return c(((Or,Mr)=>{let Gr;function k(){if(Qr)return;const C=c(((C,P)=>{!function r(q){q?C():b(function(){if(Qr)return d(!0);return b(Ot.ready,(()=>b(st.read(),(C=>!!C.done||(Ur=Ot.write(C.value),y(Ur),!1)))))}(),r,P)}(!1)}));y(C)}function B(){return Ir="closed",q?L():z((()=>(Xe(P)&&(kr=ot(P),Dr=P._state),kr||"closed"===Dr?d(void 0):"erroring"===Dr||"errored"===Dr?f(Ar):(kr=!0,Ot.close()))),!1,void 0),null}function A(C){return Qr||(Ir="errored",Wt=C,oe?L(!0,C):z((()=>Ot.abort(C)),!0,C)),null}function j(C){return Br||(Dr="errored",Ar=C,ie?L(!0,C):z((()=>st.cancel(C)),!0,C)),null}if(void 0!==Ge&&(Gr=()=>{const C=void 0!==Ge.reason?Ge.reason:new Lr("Aborted","AbortError"),P=[];oe||P.push((()=>"writable"===Dr?Ot.abort(C):d(void 0))),ie||P.push((()=>"readable"===Ir?st.cancel(C):d(void 0))),z((()=>Promise.all(P.map((C=>C())))),!0,C)},Ge.aborted?Gr():Ge.addEventListener("abort",Gr)),Ut(C)&&(Ir=C._state,Wt=C._storedError),Xe(P)&&(Dr=P._state,Ar=P._storedError,kr=ot(P)),Ut(C)&&Xe(P)&&(Fr=!0,Er()),"errored"===Ir)A(Wt);else if("erroring"===Dr||"errored"===Dr)j(Ar);else if("closed"===Ir)B();else if(kr||"closed"===Dr){const C=new TypeError("the destination writable stream closed before all data could be piped to it");ie?L(!0,C):z((()=>st.cancel(C)),!0,C)}function z(C,P,q){function o(){return"writable"!==Dr||kr?n():_(function(){let C;return d(function t(){if(C!==Ur)return C=Ur,m(Ur,t,t)}())}(),n),null}function n(){return C?h(C(),(()=>F(P,q)),(C=>F(!0,C))):F(P,q),null}Qr||(Qr=!0,Fr?o():_(Nr,o))}function L(C,P){z(void 0,C,P)}function F(C,P){return Br=!0,Ot.releaseLock(),st.releaseLock(),void 0!==Ge&&Ge.removeEventListener("abort",Gr),C?Mr(P):Or(void 0),null}Qr||(h(st.closed,B,A),h(Ot.closed,(function(){return Br||(Dr="closed"),null}),j)),Fr?k():g((()=>{Fr=!0,Er(),k()}))}))}function Bt(C,P){return function(C){try{return C.getReader({mode:"byob"}).releaseLock(),!0}catch(C){return!1}}(C)?function(C){let P,q,oe,ie,Ge,st=C.getReader(),Ot=!1,Wt=!1,Ar=!1,Er=!1,Qr=!1,Br=!1;const Ir=c((C=>{Ge=C}));function y(C){p(C.closed,(P=>(C!==st||(oe.error(P),ie.error(P),Qr&&Br||Ge(void 0)),null)))}function g(){Ot&&(st.releaseLock(),st=C.getReader(),y(st),Ot=!1),h(st.read(),(C=>{var P,q;if(Ar=!1,Er=!1,C.done)return Qr||oe.close(),Br||ie.close(),null===(P=oe.byobRequest)||void 0===P||P.respond(0),null===(q=ie.byobRequest)||void 0===q||q.respond(0),Qr&&Br||Ge(void 0),null;const Ot=C.value,Ir=Ot;let Dr=Ot;if(!Qr&&!Br)try{Dr=se(Ot)}catch(C){return oe.error(C),ie.error(C),Ge(st.cancel(C)),null}return Qr||oe.enqueue(Ir),Br||ie.enqueue(Dr),Wt=!1,Ar?w():Er&&v(),null}),(()=>(Wt=!1,null)))}function S(P,q){Ot||(st.releaseLock(),st=C.getReader({mode:"byob"}),y(st),Ot=!0);const Ir=q?ie:oe,Dr=q?oe:ie;h(st.read(P),(C=>{var P;Ar=!1,Er=!1;const oe=q?Br:Qr,ie=q?Qr:Br;if(C.done){oe||Ir.close(),ie||Dr.close();const q=C.value;return void 0!==q&&(oe||Ir.byobRequest.respondWithNewView(q),ie||null===(P=Dr.byobRequest)||void 0===P||P.respond(0)),oe&&ie||Ge(void 0),null}const Ot=C.value;if(ie)oe||Ir.byobRequest.respondWithNewView(Ot);else{let P;try{P=se(Ot)}catch(C){return Ir.error(C),Dr.error(C),Ge(st.cancel(C)),null}oe||Ir.byobRequest.respondWithNewView(Ot),Dr.enqueue(P)}return Wt=!1,Ar?w():Er&&v(),null}),(()=>(Wt=!1,null)))}function w(){if(Wt)return Ar=!0,d(void 0);Wt=!0;const C=oe.byobRequest;return null===C?g():S(C.view,!1),d(void 0)}function v(){if(Wt)return Er=!0,d(void 0);Wt=!0;const C=ie.byobRequest;return null===C?g():S(C.view,!0),d(void 0)}function R(C){if(Qr=!0,P=C,Br){const C=[P,q],oe=st.cancel(C);Ge(oe)}return Ir}function T(C){if(Br=!0,q=C,Qr){const C=[P,q],oe=st.cancel(C);Ge(oe)}return Ir}const Dr=new ReadableStream({type:"bytes",start(C){oe=C},pull:w,cancel:R}),kr=new ReadableStream({type:"bytes",start(C){ie=C},pull:v,cancel:T});return y(st),[Dr,kr]}(C):function(C,P){const q=C.getReader();let oe,ie,Ge,st,Ot,Wt=!1,Ar=!1,Er=!1,Qr=!1;const Br=c((C=>{Ot=C}));function m(){return Wt?(Ar=!0,d(void 0)):(Wt=!0,h(q.read(),(C=>{if(Ar=!1,C.done)return Er||Ge.close(),Qr||st.close(),Er&&Qr||Ot(void 0),null;const P=C.value,q=P,oe=P;return Er||Ge.enqueue(q),Qr||st.enqueue(oe),Wt=!1,Ar&&m(),null}),(()=>(Wt=!1,null))),d(void 0))}function y(C){if(Er=!0,oe=C,Qr){const C=[oe,ie],P=q.cancel(C);Ot(P)}return Br}function g(C){if(Qr=!0,ie=C,Er){const C=[oe,ie],P=q.cancel(C);Ot(P)}return Br}const Ir=new ReadableStream({start(C){Ge=C},pull:m,cancel:y}),Dr=new ReadableStream({start(C){st=C},pull:m,cancel:g});return p(q.closed,(C=>(Ge.error(C),st.error(C),Er&&Qr||Ot(void 0),null))),[Ir,Dr]}(C)}class ReadableStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!At(this))throw $t("desiredSize");return Ft(this)}close(){if(!At(this))throw $t("close");if(!Dt(this))throw new TypeError("The stream is not in a state that permits close");!function(C){if(!Dt(C))return;const P=C._controlledReadableStream;C._closeRequested=!0,0===C._queue.length&&(zt(C),Jt(P))}(this)}enqueue(C){if(!At(this))throw $t("enqueue");if(!Dt(this))throw new TypeError("The stream is not in a state that permits enqueue");return function(C,P){if(!Dt(C))return;const q=C._controlledReadableStream;if(Gt(q)&&J(q)>0)X(q,P,!1);else{let q;try{q=C._strategySizeAlgorithm(P)}catch(P){throw Lt(C,P),P}try{ce(C,P,q)}catch(P){throw Lt(C,P),P}}jt(C)}(this,C)}error(C){if(!At(this))throw $t("error");Lt(this,C)}[Ar](C){de(this);const P=this._cancelAlgorithm(C);return zt(this),P}[Er](C){const P=this._controlledReadableStream;if(this._queue.length>0){const q=ue(this);this._closeRequested&&0===this._queue.length?(zt(this),Jt(P)):jt(this),C._chunkSteps(q)}else G(P,C),jt(this)}[Qr](){}}function At(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_controlledReadableStream")&&C instanceof ReadableStreamDefaultController)}function jt(C){const P=function(C){const P=C._controlledReadableStream;if(!Dt(C))return!1;if(!C._started)return!1;if(Gt(P)&&J(P)>0)return!0;if(Ft(C)>0)return!0;return!1}(C);if(!P)return;if(C._pulling)return void(C._pullAgain=!0);C._pulling=!0;h(C._pullAlgorithm(),(()=>(C._pulling=!1,C._pullAgain&&(C._pullAgain=!1,jt(C)),null)),(P=>(Lt(C,P),null)))}function zt(C){C._pullAlgorithm=void 0,C._cancelAlgorithm=void 0,C._strategySizeAlgorithm=void 0}function Lt(C,P){const q=C._controlledReadableStream;"readable"===q._state&&(de(C),zt(C),Kt(q,P))}function Ft(C){const P=C._controlledReadableStream._state;return"errored"===P?null:"closed"===P?0:C._strategyHWM-C._queueTotalSize}function Dt(C){return!C._closeRequested&&"readable"===C._controlledReadableStream._state}function It(C,P,q,oe){const ie=Object.create(ReadableStreamDefaultController.prototype);let Ge,st,Ot;Ge=void 0!==P.start?()=>P.start(ie):()=>{},st=void 0!==P.pull?()=>P.pull(ie):()=>d(void 0),Ot=void 0!==P.cancel?C=>P.cancel(C):()=>d(void 0),function(C,P,q,oe,ie,Ge,st){P._controlledReadableStream=C,P._queue=void 0,P._queueTotalSize=void 0,de(P),P._started=!1,P._closeRequested=!1,P._pullAgain=!1,P._pulling=!1,P._strategySizeAlgorithm=st,P._strategyHWM=Ge,P._pullAlgorithm=oe,P._cancelAlgorithm=ie,C._readableStreamController=P,h(d(q()),(()=>(P._started=!0,jt(P),null)),(C=>(Lt(P,C),null)))}(C,ie,Ge,st,Ot,q,oe)}function $t(C){return new TypeError(`ReadableStreamDefaultController.prototype.${C} can only be used on a ReadableStreamDefaultController`)}function Mt(C,P,q){return I(C,q),q=>w(C,P,[q])}function Yt(C,P,q){return I(C,q),q=>w(C,P,[q])}function Qt(C,P,q){return I(C,q),q=>S(C,P,[q])}function Nt(C,P){if("bytes"!==(C=`${C}`))throw new TypeError(`${P} '${C}' is not a valid enumeration value for ReadableStreamType`);return C}function xt(C,P){if("byob"!==(C=`${C}`))throw new TypeError(`${P} '${C}' is not a valid enumeration value for ReadableStreamReaderMode`);return C}function Ht(C,P){D(C,P);const q=null==C?void 0:C.preventAbort,oe=null==C?void 0:C.preventCancel,ie=null==C?void 0:C.preventClose,Ge=null==C?void 0:C.signal;return void 0!==Ge&&function(C,P){if(!function(C){if("object"!=typeof C||null===C)return!1;try{return"boolean"==typeof C.aborted}catch(C){return!1}}(C))throw new TypeError(`${P} is not an AbortSignal.`)}(Ge,`${P} has member 'signal' that`),{preventAbort:Boolean(q),preventCancel:Boolean(oe),preventClose:Boolean(ie),signal:Ge}}function Vt(C,P){D(C,P);const q=null==C?void 0:C.readable;Y(q,"readable","ReadableWritablePair"),function(C,P){if(!H(C))throw new TypeError(`${P} is not a ReadableStream.`)}(q,`${P} has member 'readable' that`);const oe=null==C?void 0:C.writable;return Y(oe,"writable","ReadableWritablePair"),function(C,P){if(!V(C))throw new TypeError(`${P} is not a WritableStream.`)}(oe,`${P} has member 'writable' that`),{readable:q,writable:oe}}Object.defineProperties(ReadableStreamDefaultController.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),a(ReadableStreamDefaultController.prototype.close,"close"),a(ReadableStreamDefaultController.prototype.enqueue,"enqueue"),a(ReadableStreamDefaultController.prototype.error,"error"),"symbol"==typeof P.toStringTag&&Object.defineProperty(ReadableStreamDefaultController.prototype,P.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class ReadableStream{constructor(C={},P={}){void 0===C?C=null:$(C,"First parameter");const q=Qe(P,"Second parameter"),oe=function(C,P){D(C,P);const q=C,oe=null==q?void 0:q.autoAllocateChunkSize,ie=null==q?void 0:q.cancel,Ge=null==q?void 0:q.pull,st=null==q?void 0:q.start,Ot=null==q?void 0:q.type;return{autoAllocateChunkSize:void 0===oe?void 0:x(oe,`${P} has member 'autoAllocateChunkSize' that`),cancel:void 0===ie?void 0:Mt(ie,q,`${P} has member 'cancel' that`),pull:void 0===Ge?void 0:Yt(Ge,q,`${P} has member 'pull' that`),start:void 0===st?void 0:Qt(st,q,`${P} has member 'start' that`),type:void 0===Ot?void 0:Nt(Ot,`${P} has member 'type' that`)}}(C,"First parameter");var ie;if((ie=this)._state="readable",ie._reader=void 0,ie._storedError=void 0,ie._disturbed=!1,"bytes"===oe.type){if(void 0!==q.size)throw new RangeError("The strategy for a byte stream cannot have a size function");Be(this,oe,Me(q,0))}else{const C=Ye(q);It(this,oe,Me(q,1),C)}}get locked(){if(!Ut(this))throw Zt("locked");return Gt(this)}cancel(C){return Ut(this)?Gt(this)?f(new TypeError("Cannot cancel a stream that already has a reader")):Xt(this,C):f(Zt("cancel"))}getReader(C){if(!Ut(this))throw Zt("getReader");return void 0===function(C,P){D(C,P);const q=null==C?void 0:C.mode;return{mode:void 0===q?void 0:xt(q,`${P} has member 'mode' that`)}}(C,"First parameter").mode?new ReadableStreamDefaultReader(this):function(C){return new ReadableStreamBYOBReader(C)}(this)}pipeThrough(C,P={}){if(!H(this))throw Zt("pipeThrough");M(C,1,"pipeThrough");const q=Vt(C,"First parameter"),oe=Ht(P,"Second parameter");if(this.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(q.writable.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return y(kt(this,q.writable,oe.preventClose,oe.preventAbort,oe.preventCancel,oe.signal)),q.readable}pipeTo(C,P={}){if(!H(this))return f(Zt("pipeTo"));if(void 0===C)return f("Parameter 1 is required in 'pipeTo'.");if(!V(C))return f(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let q;try{q=Ht(P,"Second parameter")}catch(C){return f(C)}return this.locked?f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):C.locked?f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):kt(this,C,q.preventClose,q.preventAbort,q.preventCancel,q.signal)}tee(){if(!H(this))throw Zt("tee");if(this.locked)throw new TypeError("Cannot tee a stream that already has a reader");return Bt(this)}values(C){if(!H(this))throw Zt("values");return function(C,P){const q=C.getReader(),oe=new re(q,P),ie=Object.create(Dr);return ie._asyncIteratorImpl=oe,ie}(this,function(C,P){D(C,P);const q=null==C?void 0:C.preventCancel;return{preventCancel:Boolean(q)}}(C,"First parameter").preventCancel)}}function Ut(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_readableStreamController")&&C instanceof ReadableStream)}function Gt(C){return void 0!==C._reader}function Xt(C,P){if(C._disturbed=!0,"closed"===C._state)return d(void 0);if("errored"===C._state)return f(C._storedError);Jt(C);const q=C._reader;if(void 0!==q&&De(q)){const C=q._readIntoRequests;q._readIntoRequests=new v,C.forEach((C=>{C._closeSteps(void 0)}))}return m(C._readableStreamController[Ar](P),r)}function Jt(C){C._state="closed";const P=C._reader;if(void 0!==P&&(z(P),Z(P))){const C=P._readRequests;P._readRequests=new v,C.forEach((C=>{C._closeSteps()}))}}function Kt(C,P){C._state="errored",C._storedError=P;const q=C._reader;void 0!==q&&(j(q,P),Z(q)?ee(q,P):Ie(q,P))}function Zt(C){return new TypeError(`ReadableStream.prototype.${C} can only be used on a ReadableStream`)}function er(C,P){D(C,P);const q=null==C?void 0:C.highWaterMark;return Y(q,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Q(q)}}Object.defineProperties(ReadableStream.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),a(ReadableStream.prototype.cancel,"cancel"),a(ReadableStream.prototype.getReader,"getReader"),a(ReadableStream.prototype.pipeThrough,"pipeThrough"),a(ReadableStream.prototype.pipeTo,"pipeTo"),a(ReadableStream.prototype.tee,"tee"),a(ReadableStream.prototype.values,"values"),"symbol"==typeof P.toStringTag&&Object.defineProperty(ReadableStream.prototype,P.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof P.asyncIterator&&Object.defineProperty(ReadableStream.prototype,P.asyncIterator,{value:ReadableStream.prototype.values,writable:!0,configurable:!0});const tr=C=>C.byteLength;a(tr,"size");class ByteLengthQueuingStrategy{constructor(C){M(C,1,"ByteLengthQueuingStrategy"),C=er(C,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=C.highWaterMark}get highWaterMark(){if(!or(this))throw rr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!or(this))throw rr("size");return tr}}function rr(C){return new TypeError(`ByteLengthQueuingStrategy.prototype.${C} can only be used on a ByteLengthQueuingStrategy`)}function or(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_byteLengthQueuingStrategyHighWaterMark")&&C instanceof ByteLengthQueuingStrategy)}Object.defineProperties(ByteLengthQueuingStrategy.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof P.toStringTag&&Object.defineProperty(ByteLengthQueuingStrategy.prototype,P.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const nr=()=>1;a(nr,"size");class CountQueuingStrategy{constructor(C){M(C,1,"CountQueuingStrategy"),C=er(C,"First parameter"),this._countQueuingStrategyHighWaterMark=C.highWaterMark}get highWaterMark(){if(!ir(this))throw ar("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ir(this))throw ar("size");return nr}}function ar(C){return new TypeError(`CountQueuingStrategy.prototype.${C} can only be used on a CountQueuingStrategy`)}function ir(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_countQueuingStrategyHighWaterMark")&&C instanceof CountQueuingStrategy)}function lr(C,P,q){return I(C,q),q=>w(C,P,[q])}function sr(C,P,q){return I(C,q),q=>S(C,P,[q])}function ur(C,P,q){return I(C,q),(q,oe)=>w(C,P,[q,oe])}Object.defineProperties(CountQueuingStrategy.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof P.toStringTag&&Object.defineProperty(CountQueuingStrategy.prototype,P.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class TransformStream{constructor(C={},P={},q={}){void 0===C&&(C=null);const oe=Qe(P,"Second parameter"),ie=Qe(q,"Third parameter"),Ge=function(C,P){D(C,P);const q=null==C?void 0:C.flush,oe=null==C?void 0:C.readableType,ie=null==C?void 0:C.start,Ge=null==C?void 0:C.transform,st=null==C?void 0:C.writableType;return{flush:void 0===q?void 0:lr(q,C,`${P} has member 'flush' that`),readableType:oe,start:void 0===ie?void 0:sr(ie,C,`${P} has member 'start' that`),transform:void 0===Ge?void 0:ur(Ge,C,`${P} has member 'transform' that`),writableType:st}}(C,"First parameter");if(void 0!==Ge.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==Ge.writableType)throw new RangeError("Invalid writableType specified");const st=Me(ie,0),Ot=Ye(ie),Wt=Me(oe,1),Ar=Ye(oe);let Er;!function(C,P,q,oe,ie,Ge){function i(){return P}function l(P){return function(C,P){const q=C._transformStreamController;if(C._backpressure){return m(C._backpressureChangePromise,(()=>{if("erroring"===(Xe(C._writable)?C._writable._state:C._writableState))throw Xe(C._writable)?C._writable._storedError:C._writableStoredError;return mr(q,P)}))}return mr(q,P)}(C,P)}function s(P){return function(C,P){return dr(C,P),d(void 0)}(C,P)}function u(){return function(C){const P=C._transformStreamController,q=P._flushAlgorithm();return _r(P),m(q,(()=>{if("errored"===C._readableState)throw C._readableStoredError;Sr(C)&&wr(C)}),(P=>{throw dr(C,P),C._readableStoredError}))}(C)}function c(){return function(C){return br(C,!1),C._backpressureChangePromise}(C)}function f(P){return fr(C,P),d(void 0)}C._writableState="writable",C._writableStoredError=void 0,C._writableHasInFlightOperation=!1,C._writableStarted=!1,C._writable=function(C,P,q,oe,ie,Ge,st){return new WritableStream({start(q){C._writableController=q;try{const P=q.signal;void 0!==P&&P.addEventListener("abort",(()=>{"writable"===C._writableState&&(C._writableState="erroring",P.reason&&(C._writableStoredError=P.reason))}))}catch(C){}return m(P(),(()=>(C._writableStarted=!0,Pr(C),null)),(P=>{throw C._writableStarted=!0,Tr(C,P),P}))},write:P=>(function(C){C._writableHasInFlightOperation=!0}(C),m(q(P),(()=>(function(C){C._writableHasInFlightOperation=!1}(C),Pr(C),null)),(P=>{throw function(C,P){C._writableHasInFlightOperation=!1,Tr(C,P)}(C,P),P}))),close:()=>(function(C){C._writableHasInFlightOperation=!0}(C),m(oe(),(()=>(function(C){C._writableHasInFlightOperation=!1;"erroring"===C._writableState&&(C._writableStoredError=void 0);C._writableState="closed"}(C),null)),(P=>{throw function(C,P){C._writableHasInFlightOperation=!1,C._writableState,Tr(C,P)}(C,P),P}))),abort:P=>(C._writableState="errored",C._writableStoredError=P,ie(P))},{highWaterMark:Ge,size:st})}(C,i,l,u,s,q,oe),C._readableState="readable",C._readableStoredError=void 0,C._readableCloseRequested=!1,C._readablePulling=!1,C._readable=function(C,P,q,oe,ie,Ge){return new ReadableStream({start:q=>(C._readableController=q,P().catch((P=>{vr(C,P)}))),pull:()=>(C._readablePulling=!0,q().catch((P=>{vr(C,P)}))),cancel:P=>(C._readableState="closed",oe(P))},{highWaterMark:ie,size:Ge})}(C,i,c,f,ie,Ge),C._backpressure=void 0,C._backpressureChangePromise=void 0,C._backpressureChangePromise_resolve=void 0,br(C,!0),C._transformStreamController=void 0}(this,c((C=>{Er=C})),Wt,Ar,st,Ot),function(C,P){const q=Object.create(TransformStreamDefaultController.prototype);let oe,ie;oe=void 0!==P.transform?C=>P.transform(C,q):C=>{try{return pr(q,C),d(void 0)}catch(C){return f(C)}};ie=void 0!==P.flush?()=>P.flush(q):()=>d(void 0);!function(C,P,q,oe){P._controlledTransformStream=C,C._transformStreamController=P,P._transformAlgorithm=q,P._flushAlgorithm=oe}(C,q,oe,ie)}(this,Ge),void 0!==Ge.start?Er(Ge.start(this._transformStreamController)):Er(void 0)}get readable(){if(!cr(this))throw gr("readable");return this._readable}get writable(){if(!cr(this))throw gr("writable");return this._writable}}function cr(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_transformStreamController")&&C instanceof TransformStream)}function dr(C,P){vr(C,P),fr(C,P)}function fr(C,P){_r(C._transformStreamController),function(C,P){C._writableController.error(P);"writable"===C._writableState&&qr(C,P)}(C,P),C._backpressure&&br(C,!1)}function br(C,P){void 0!==C._backpressureChangePromise&&C._backpressureChangePromise_resolve(),C._backpressureChangePromise=c((P=>{C._backpressureChangePromise_resolve=P})),C._backpressure=P}Object.defineProperties(TransformStream.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof P.toStringTag&&Object.defineProperty(TransformStream.prototype,P.toStringTag,{value:"TransformStream",configurable:!0});class TransformStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!hr(this))throw yr("desiredSize");return Rr(this._controlledTransformStream)}enqueue(C){if(!hr(this))throw yr("enqueue");pr(this,C)}error(C){if(!hr(this))throw yr("error");var P;P=C,dr(this._controlledTransformStream,P)}terminate(){if(!hr(this))throw yr("terminate");!function(C){const P=C._controlledTransformStream;Sr(P)&&wr(P);const q=new TypeError("TransformStream terminated");fr(P,q)}(this)}}function hr(C){return!!o(C)&&(!!Object.prototype.hasOwnProperty.call(C,"_controlledTransformStream")&&C instanceof TransformStreamDefaultController)}function _r(C){C._transformAlgorithm=void 0,C._flushAlgorithm=void 0}function pr(C,P){const q=C._controlledTransformStream;if(!Sr(q))throw new TypeError("Readable side is not in a state that permits enqueue");try{!function(C,P){C._readablePulling=!1;try{C._readableController.enqueue(P)}catch(P){throw vr(C,P),P}}(q,P)}catch(C){throw fr(q,C),q._readableStoredError}const oe=function(C){return!function(C){if(!Sr(C))return!1;if(C._readablePulling)return!0;if(Rr(C)>0)return!0;return!1}(C)}(q);oe!==q._backpressure&&br(q,!0)}function mr(C,P){return m(C._transformAlgorithm(P),void 0,(P=>{throw dr(C._controlledTransformStream,P),P}))}function yr(C){return new TypeError(`TransformStreamDefaultController.prototype.${C} can only be used on a TransformStreamDefaultController`)}function gr(C){return new TypeError(`TransformStream.prototype.${C} can only be used on a TransformStream`)}function Sr(C){return!C._readableCloseRequested&&"readable"===C._readableState}function wr(C){C._readableState="closed",C._readableCloseRequested=!0,C._readableController.close()}function vr(C,P){"readable"===C._readableState&&(C._readableState="errored",C._readableStoredError=P),C._readableController.error(P)}function Rr(C){return C._readableController.desiredSize}function Tr(C,P){"writable"!==C._writableState?Cr(C):qr(C,P)}function qr(C,P){C._writableState="erroring",C._writableStoredError=P,!function(C){return C._writableHasInFlightOperation}(C)&&C._writableStarted&&Cr(C)}function Cr(C){C._writableState="errored"}function Pr(C){"erroring"===C._writableState&&Cr(C)}Object.defineProperties(TransformStreamDefaultController.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),a(TransformStreamDefaultController.prototype.enqueue,"enqueue"),a(TransformStreamDefaultController.prototype.error,"error"),a(TransformStreamDefaultController.prototype.terminate,"terminate"),"symbol"==typeof P.toStringTag&&Object.defineProperty(TransformStreamDefaultController.prototype,P.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),C.ByteLengthQueuingStrategy=ByteLengthQueuingStrategy,C.CountQueuingStrategy=CountQueuingStrategy,C.ReadableByteStreamController=ReadableByteStreamController,C.ReadableStream=ReadableStream,C.ReadableStreamBYOBReader=ReadableStreamBYOBReader,C.ReadableStreamBYOBRequest=ReadableStreamBYOBRequest,C.ReadableStreamDefaultController=ReadableStreamDefaultController,C.ReadableStreamDefaultReader=ReadableStreamDefaultReader,C.TransformStream=TransformStream,C.TransformStreamDefaultController=TransformStreamDefaultController,C.WritableStream=WritableStream,C.WritableStreamDefaultController=WritableStreamDefaultController,C.WritableStreamDefaultWriter=WritableStreamDefaultWriter,Object.defineProperty(C,"__esModule",{value:!0})}))},1093:C=>{"use strict";var P={};C.exports=P;function sign(C){return C<0?-1:1}function evenRound(C){if(C%1===.5&&(C&1)===0){return Math.floor(C)}else{return Math.round(C)}}function createNumberConversion(C,P){if(!P.unsigned){--C}const q=P.unsigned?0:-Math.pow(2,C);const oe=Math.pow(2,C)-1;const ie=P.moduloBitLength?Math.pow(2,P.moduloBitLength):Math.pow(2,C);const Ge=P.moduloBitLength?Math.pow(2,P.moduloBitLength-1):Math.pow(2,C-1);return function(C,st){if(!st)st={};let Ot=+C;if(st.enforceRange){if(!Number.isFinite(Ot)){throw new TypeError("Argument is not a finite number")}Ot=sign(Ot)*Math.floor(Math.abs(Ot));if(Ot<q||Ot>oe){throw new TypeError("Argument is not in byte range")}return Ot}if(!isNaN(Ot)&&st.clamp){Ot=evenRound(Ot);if(Ot<q)Ot=q;if(Ot>oe)Ot=oe;return Ot}if(!Number.isFinite(Ot)||Ot===0){return 0}Ot=sign(Ot)*Math.floor(Math.abs(Ot));Ot=Ot%ie;if(!P.unsigned&&Ot>=Ge){return Ot-ie}else if(P.unsigned){if(Ot<0){Ot+=ie}else if(Ot===-0){return 0}}return Ot}}P["void"]=function(){return undefined};P["boolean"]=function(C){return!!C};P["byte"]=createNumberConversion(8,{unsigned:false});P["octet"]=createNumberConversion(8,{unsigned:true});P["short"]=createNumberConversion(16,{unsigned:false});P["unsigned short"]=createNumberConversion(16,{unsigned:true});P["long"]=createNumberConversion(32,{unsigned:false});P["unsigned long"]=createNumberConversion(32,{unsigned:true});P["long long"]=createNumberConversion(32,{unsigned:false,moduloBitLength:64});P["unsigned long long"]=createNumberConversion(32,{unsigned:true,moduloBitLength:64});P["double"]=function(C){const P=+C;if(!Number.isFinite(P)){throw new TypeError("Argument is not a finite floating-point value")}return P};P["unrestricted double"]=function(C){const P=+C;if(isNaN(P)){throw new TypeError("Argument is NaN")}return P};P["float"]=P["double"];P["unrestricted float"]=P["unrestricted double"];P["DOMString"]=function(C,P){if(!P)P={};if(P.treatNullAsEmptyString&&C===null){return""}return String(C)};P["ByteString"]=function(C,P){const q=String(C);let oe=undefined;for(let C=0;(oe=q.codePointAt(C))!==undefined;++C){if(oe>255){throw new TypeError("Argument is not a valid bytestring")}}return q};P["USVString"]=function(C){const P=String(C);const q=P.length;const oe=[];for(let C=0;C<q;++C){const ie=P.charCodeAt(C);if(ie<55296||ie>57343){oe.push(String.fromCodePoint(ie))}else if(56320<=ie&&ie<=57343){oe.push(String.fromCodePoint(65533))}else{if(C===q-1){oe.push(String.fromCodePoint(65533))}else{const q=P.charCodeAt(C+1);if(56320<=q&&q<=57343){const P=ie&1023;const Ge=q&1023;oe.push(String.fromCodePoint((2<<15)+(2<<9)*P+Ge));++C}else{oe.push(String.fromCodePoint(65533))}}}}return oe.join("")};P["Date"]=function(C,P){if(!(C instanceof Date)){throw new TypeError("Argument is not a Date object")}if(isNaN(C)){return undefined}return C};P["RegExp"]=function(C,P){if(!(C instanceof RegExp)){C=new RegExp(C)}return C}},9624:(C,P,q)=>{"use strict";const oe=q(8321);P.implementation=class URLImpl{constructor(C){const P=C[0];const q=C[1];let ie=null;if(q!==undefined){ie=oe.basicURLParse(q);if(ie==="failure"){throw new TypeError("Invalid base URL")}}const Ge=oe.basicURLParse(P,{baseURL:ie});if(Ge==="failure"){throw new TypeError("Invalid URL")}this._url=Ge}get href(){return oe.serializeURL(this._url)}set href(C){const P=oe.basicURLParse(C);if(P==="failure"){throw new TypeError("Invalid URL")}this._url=P}get origin(){return oe.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(C){oe.basicURLParse(C+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(C){if(oe.cannotHaveAUsernamePasswordPort(this._url)){return}oe.setTheUsername(this._url,C)}get password(){return this._url.password}set password(C){if(oe.cannotHaveAUsernamePasswordPort(this._url)){return}oe.setThePassword(this._url,C)}get host(){const C=this._url;if(C.host===null){return""}if(C.port===null){return oe.serializeHost(C.host)}return oe.serializeHost(C.host)+":"+oe.serializeInteger(C.port)}set host(C){if(this._url.cannotBeABaseURL){return}oe.basicURLParse(C,{url:this._url,stateOverride:"host"})}get hostname(){if(this._url.host===null){return""}return oe.serializeHost(this._url.host)}set hostname(C){if(this._url.cannotBeABaseURL){return}oe.basicURLParse(C,{url:this._url,stateOverride:"hostname"})}get port(){if(this._url.port===null){return""}return oe.serializeInteger(this._url.port)}set port(C){if(oe.cannotHaveAUsernamePasswordPort(this._url)){return}if(C===""){this._url.port=null}else{oe.basicURLParse(C,{url:this._url,stateOverride:"port"})}}get pathname(){if(this._url.cannotBeABaseURL){return this._url.path[0]}if(this._url.path.length===0){return""}return"/"+this._url.path.join("/")}set pathname(C){if(this._url.cannotBeABaseURL){return}this._url.path=[];oe.basicURLParse(C,{url:this._url,stateOverride:"path start"})}get search(){if(this._url.query===null||this._url.query===""){return""}return"?"+this._url.query}set search(C){const P=this._url;if(C===""){P.query=null;return}const q=C[0]==="?"?C.substring(1):C;P.query="";oe.basicURLParse(q,{url:P,stateOverride:"query"})}get hash(){if(this._url.fragment===null||this._url.fragment===""){return""}return"#"+this._url.fragment}set hash(C){if(C===""){this._url.fragment=null;return}const P=C[0]==="#"?C.substring(1):C;this._url.fragment="";oe.basicURLParse(P,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},721:(C,P,q)=>{"use strict";const oe=q(1093);const ie=q(153);const Ge=q(9624);const st=ie.implSymbol;function URL(P){if(!this||this[st]||!(this instanceof URL)){throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.")}if(arguments.length<1){throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.")}const q=[];for(let C=0;C<arguments.length&&C<2;++C){q[C]=arguments[C]}q[0]=oe["USVString"](q[0]);if(q[1]!==undefined){q[1]=oe["USVString"](q[1])}C.exports.setup(this,q)}URL.prototype.toJSON=function toJSON(){if(!this||!C.exports.is(this)){throw new TypeError("Illegal invocation")}const P=[];for(let C=0;C<arguments.length&&C<0;++C){P[C]=arguments[C]}return this[st].toJSON.apply(this[st],P)};Object.defineProperty(URL.prototype,"href",{get(){return this[st].href},set(C){C=oe["USVString"](C);this[st].href=C},enumerable:true,configurable:true});URL.prototype.toString=function(){if(!this||!C.exports.is(this)){throw new TypeError("Illegal invocation")}return this.href};Object.defineProperty(URL.prototype,"origin",{get(){return this[st].origin},enumerable:true,configurable:true});Object.defineProperty(URL.prototype,"protocol",{get(){return this[st].protocol},set(C){C=oe["USVString"](C);this[st].protocol=C},enumerable:true,configurable:true});Object.defineProperty(URL.prototype,"username",{get(){return this[st].username},set(C){C=oe["USVString"](C);this[st].username=C},enumerable:true,configurable:true});Object.defineProperty(URL.prototype,"password",{get(){return this[st].password},set(C){C=oe["USVString"](C);this[st].password=C},enumerable:true,configurable:true});Object.defineProperty(URL.prototype,"host",{get(){return this[st].host},set(C){C=oe["USVString"](C);this[st].host=C},enumerable:true,configurable:true});Object.defineProperty(URL.prototype,"hostname",{get(){return this[st].hostname},set(C){C=oe["USVString"](C);this[st].hostname=C},enumerable:true,configurable:true});Object.defineProperty(URL.prototype,"port",{get(){return this[st].port},set(C){C=oe["USVString"](C);this[st].port=C},enumerable:true,configurable:true});Object.defineProperty(URL.prototype,"pathname",{get(){return this[st].pathname},set(C){C=oe["USVString"](C);this[st].pathname=C},enumerable:true,configurable:true});Object.defineProperty(URL.prototype,"search",{get(){return this[st].search},set(C){C=oe["USVString"](C);this[st].search=C},enumerable:true,configurable:true});Object.defineProperty(URL.prototype,"hash",{get(){return this[st].hash},set(C){C=oe["USVString"](C);this[st].hash=C},enumerable:true,configurable:true});C.exports={is(C){return!!C&&C[st]instanceof Ge.implementation},create(C,P){let q=Object.create(URL.prototype);this.setup(q,C,P);return q},setup(C,P,q){if(!q)q={};q.wrapper=C;C[st]=new Ge.implementation(P,q);C[st][ie.wrapperSymbol]=C},interface:URL,expose:{Window:{URL:URL},Worker:{URL:URL}}}},5222:(C,P,q)=>{"use strict";P.URL=q(721)["interface"];P.serializeURL=q(8321).serializeURL;P.serializeURLOrigin=q(8321).serializeURLOrigin;P.basicURLParse=q(8321).basicURLParse;P.setTheUsername=q(8321).setTheUsername;P.setThePassword=q(8321).setThePassword;P.serializeHost=q(8321).serializeHost;P.serializeInteger=q(8321).serializeInteger;P.parseURL=q(8321).parseURL},8321:(C,P,q)=>{"use strict";const oe=q(4876);const ie=q(5234);const Ge={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443};const st=Symbol("failure");function countSymbols(C){return oe.ucs2.decode(C).length}function at(C,P){const q=C[P];return isNaN(q)?undefined:String.fromCodePoint(q)}function isASCIIDigit(C){return C>=48&&C<=57}function isASCIIAlpha(C){return C>=65&&C<=90||C>=97&&C<=122}function isASCIIAlphanumeric(C){return isASCIIAlpha(C)||isASCIIDigit(C)}function isASCIIHex(C){return isASCIIDigit(C)||C>=65&&C<=70||C>=97&&C<=102}function isSingleDot(C){return C==="."||C.toLowerCase()==="%2e"}function isDoubleDot(C){C=C.toLowerCase();return C===".."||C==="%2e."||C===".%2e"||C==="%2e%2e"}function isWindowsDriveLetterCodePoints(C,P){return isASCIIAlpha(C)&&(P===58||P===124)}function isWindowsDriveLetterString(C){return C.length===2&&isASCIIAlpha(C.codePointAt(0))&&(C[1]===":"||C[1]==="|")}function isNormalizedWindowsDriveLetterString(C){return C.length===2&&isASCIIAlpha(C.codePointAt(0))&&C[1]===":"}function containsForbiddenHostCodePoint(C){return C.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/)!==-1}function containsForbiddenHostCodePointExcludingPercent(C){return C.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/)!==-1}function isSpecialScheme(C){return Ge[C]!==undefined}function isSpecial(C){return isSpecialScheme(C.scheme)}function defaultPort(C){return Ge[C]}function percentEncode(C){let P=C.toString(16).toUpperCase();if(P.length===1){P="0"+P}return"%"+P}function utf8PercentEncode(C){const P=new Buffer(C);let q="";for(let C=0;C<P.length;++C){q+=percentEncode(P[C])}return q}function utf8PercentDecode(C){const P=new Buffer(C);const q=[];for(let C=0;C<P.length;++C){if(P[C]!==37){q.push(P[C])}else if(P[C]===37&&isASCIIHex(P[C+1])&&isASCIIHex(P[C+2])){q.push(parseInt(P.slice(C+1,C+3).toString(),16));C+=2}else{q.push(P[C])}}return new Buffer(q).toString()}function isC0ControlPercentEncode(C){return C<=31||C>126}const Ot=new Set([32,34,35,60,62,63,96,123,125]);function isPathPercentEncode(C){return isC0ControlPercentEncode(C)||Ot.has(C)}const Wt=new Set([47,58,59,61,64,91,92,93,94,124]);function isUserinfoPercentEncode(C){return isPathPercentEncode(C)||Wt.has(C)}function percentEncodeChar(C,P){const q=String.fromCodePoint(C);if(P(C)){return utf8PercentEncode(q)}return q}function parseIPv4Number(C){let P=10;if(C.length>=2&&C.charAt(0)==="0"&&C.charAt(1).toLowerCase()==="x"){C=C.substring(2);P=16}else if(C.length>=2&&C.charAt(0)==="0"){C=C.substring(1);P=8}if(C===""){return 0}const q=P===10?/[^0-9]/:P===16?/[^0-9A-Fa-f]/:/[^0-7]/;if(q.test(C)){return st}return parseInt(C,P)}function parseIPv4(C){const P=C.split(".");if(P[P.length-1]===""){if(P.length>1){P.pop()}}if(P.length>4){return C}const q=[];for(const oe of P){if(oe===""){return C}const P=parseIPv4Number(oe);if(P===st){return C}q.push(P)}for(let C=0;C<q.length-1;++C){if(q[C]>255){return st}}if(q[q.length-1]>=Math.pow(256,5-q.length)){return st}let oe=q.pop();let ie=0;for(const C of q){oe+=C*Math.pow(256,3-ie);++ie}return oe}function serializeIPv4(C){let P="";let q=C;for(let C=1;C<=4;++C){P=String(q%256)+P;if(C!==4){P="."+P}q=Math.floor(q/256)}return P}function parseIPv6(C){const P=[0,0,0,0,0,0,0,0];let q=0;let ie=null;let Ge=0;C=oe.ucs2.decode(C);if(C[Ge]===58){if(C[Ge+1]!==58){return st}Ge+=2;++q;ie=q}while(Ge<C.length){if(q===8){return st}if(C[Ge]===58){if(ie!==null){return st}++Ge;++q;ie=q;continue}let oe=0;let Ot=0;while(Ot<4&&isASCIIHex(C[Ge])){oe=oe*16+parseInt(at(C,Ge),16);++Ge;++Ot}if(C[Ge]===46){if(Ot===0){return st}Ge-=Ot;if(q>6){return st}let oe=0;while(C[Ge]!==undefined){let ie=null;if(oe>0){if(C[Ge]===46&&oe<4){++Ge}else{return st}}if(!isASCIIDigit(C[Ge])){return st}while(isASCIIDigit(C[Ge])){const P=parseInt(at(C,Ge));if(ie===null){ie=P}else if(ie===0){return st}else{ie=ie*10+P}if(ie>255){return st}++Ge}P[q]=P[q]*256+ie;++oe;if(oe===2||oe===4){++q}}if(oe!==4){return st}break}else if(C[Ge]===58){++Ge;if(C[Ge]===undefined){return st}}else if(C[Ge]!==undefined){return st}P[q]=oe;++q}if(ie!==null){let C=q-ie;q=7;while(q!==0&&C>0){const oe=P[ie+C-1];P[ie+C-1]=P[q];P[q]=oe;--q;--C}}else if(ie===null&&q!==8){return st}return P}function serializeIPv6(C){let P="";const q=findLongestZeroSequence(C);const oe=q.idx;let ie=false;for(let q=0;q<=7;++q){if(ie&&C[q]===0){continue}else if(ie){ie=false}if(oe===q){const C=q===0?"::":":";P+=C;ie=true;continue}P+=C[q].toString(16);if(q!==7){P+=":"}}return P}function parseHost(C,P){if(C[0]==="["){if(C[C.length-1]!=="]"){return st}return parseIPv6(C.substring(1,C.length-1))}if(!P){return parseOpaqueHost(C)}const q=utf8PercentDecode(C);const oe=ie.toASCII(q,false,ie.PROCESSING_OPTIONS.NONTRANSITIONAL,false);if(oe===null){return st}if(containsForbiddenHostCodePoint(oe)){return st}const Ge=parseIPv4(oe);if(typeof Ge==="number"||Ge===st){return Ge}return oe}function parseOpaqueHost(C){if(containsForbiddenHostCodePointExcludingPercent(C)){return st}let P="";const q=oe.ucs2.decode(C);for(let C=0;C<q.length;++C){P+=percentEncodeChar(q[C],isC0ControlPercentEncode)}return P}function findLongestZeroSequence(C){let P=null;let q=1;let oe=null;let ie=0;for(let Ge=0;Ge<C.length;++Ge){if(C[Ge]!==0){if(ie>q){P=oe;q=ie}oe=null;ie=0}else{if(oe===null){oe=Ge}++ie}}if(ie>q){P=oe;q=ie}return{idx:P,len:q}}function serializeHost(C){if(typeof C==="number"){return serializeIPv4(C)}if(C instanceof Array){return"["+serializeIPv6(C)+"]"}return C}function trimControlChars(C){return C.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function trimTabAndNewline(C){return C.replace(/\u0009|\u000A|\u000D/g,"")}function shortenPath(C){const P=C.path;if(P.length===0){return}if(C.scheme==="file"&&P.length===1&&isNormalizedWindowsDriveLetter(P[0])){return}P.pop()}function includesCredentials(C){return C.username!==""||C.password!==""}function cannotHaveAUsernamePasswordPort(C){return C.host===null||C.host===""||C.cannotBeABaseURL||C.scheme==="file"}function isNormalizedWindowsDriveLetter(C){return/^[A-Za-z]:$/.test(C)}function URLStateMachine(C,P,q,ie,Ge){this.pointer=0;this.input=C;this.base=P||null;this.encodingOverride=q||"utf-8";this.stateOverride=Ge;this.url=ie;this.failure=false;this.parseError=false;if(!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:false};const C=trimControlChars(this.input);if(C!==this.input){this.parseError=true}this.input=C}const Ot=trimTabAndNewline(this.input);if(Ot!==this.input){this.parseError=true}this.input=Ot;this.state=Ge||"scheme start";this.buffer="";this.atFlag=false;this.arrFlag=false;this.passwordTokenSeenFlag=false;this.input=oe.ucs2.decode(this.input);for(;this.pointer<=this.input.length;++this.pointer){const C=this.input[this.pointer];const P=isNaN(C)?undefined:String.fromCodePoint(C);const q=this["parse "+this.state](C,P);if(!q){break}else if(q===st){this.failure=true;break}}}URLStateMachine.prototype["parse scheme start"]=function parseSchemeStart(C,P){if(isASCIIAlpha(C)){this.buffer+=P.toLowerCase();this.state="scheme"}else if(!this.stateOverride){this.state="no scheme";--this.pointer}else{this.parseError=true;return st}return true};URLStateMachine.prototype["parse scheme"]=function parseScheme(C,P){if(isASCIIAlphanumeric(C)||C===43||C===45||C===46){this.buffer+=P.toLowerCase()}else if(C===58){if(this.stateOverride){if(isSpecial(this.url)&&!isSpecialScheme(this.buffer)){return false}if(!isSpecial(this.url)&&isSpecialScheme(this.buffer)){return false}if((includesCredentials(this.url)||this.url.port!==null)&&this.buffer==="file"){return false}if(this.url.scheme==="file"&&(this.url.host===""||this.url.host===null)){return false}}this.url.scheme=this.buffer;this.buffer="";if(this.stateOverride){return false}if(this.url.scheme==="file"){if(this.input[this.pointer+1]!==47||this.input[this.pointer+2]!==47){this.parseError=true}this.state="file"}else if(isSpecial(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme){this.state="special relative or authority"}else if(isSpecial(this.url)){this.state="special authority slashes"}else if(this.input[this.pointer+1]===47){this.state="path or authority";++this.pointer}else{this.url.cannotBeABaseURL=true;this.url.path.push("");this.state="cannot-be-a-base-URL path"}}else if(!this.stateOverride){this.buffer="";this.state="no scheme";this.pointer=-1}else{this.parseError=true;return st}return true};URLStateMachine.prototype["parse no scheme"]=function parseNoScheme(C){if(this.base===null||this.base.cannotBeABaseURL&&C!==35){return st}else if(this.base.cannotBeABaseURL&&C===35){this.url.scheme=this.base.scheme;this.url.path=this.base.path.slice();this.url.query=this.base.query;this.url.fragment="";this.url.cannotBeABaseURL=true;this.state="fragment"}else if(this.base.scheme==="file"){this.state="file";--this.pointer}else{this.state="relative";--this.pointer}return true};URLStateMachine.prototype["parse special relative or authority"]=function parseSpecialRelativeOrAuthority(C){if(C===47&&this.input[this.pointer+1]===47){this.state="special authority ignore slashes";++this.pointer}else{this.parseError=true;this.state="relative";--this.pointer}return true};URLStateMachine.prototype["parse path or authority"]=function parsePathOrAuthority(C){if(C===47){this.state="authority"}else{this.state="path";--this.pointer}return true};URLStateMachine.prototype["parse relative"]=function parseRelative(C){this.url.scheme=this.base.scheme;if(isNaN(C)){this.url.username=this.base.username;this.url.password=this.base.password;this.url.host=this.base.host;this.url.port=this.base.port;this.url.path=this.base.path.slice();this.url.query=this.base.query}else if(C===47){this.state="relative slash"}else if(C===63){this.url.username=this.base.username;this.url.password=this.base.password;this.url.host=this.base.host;this.url.port=this.base.port;this.url.path=this.base.path.slice();this.url.query="";this.state="query"}else if(C===35){this.url.username=this.base.username;this.url.password=this.base.password;this.url.host=this.base.host;this.url.port=this.base.port;this.url.path=this.base.path.slice();this.url.query=this.base.query;this.url.fragment="";this.state="fragment"}else if(isSpecial(this.url)&&C===92){this.parseError=true;this.state="relative slash"}else{this.url.username=this.base.username;this.url.password=this.base.password;this.url.host=this.base.host;this.url.port=this.base.port;this.url.path=this.base.path.slice(0,this.base.path.length-1);this.state="path";--this.pointer}return true};URLStateMachine.prototype["parse relative slash"]=function parseRelativeSlash(C){if(isSpecial(this.url)&&(C===47||C===92)){if(C===92){this.parseError=true}this.state="special authority ignore slashes"}else if(C===47){this.state="authority"}else{this.url.username=this.base.username;this.url.password=this.base.password;this.url.host=this.base.host;this.url.port=this.base.port;this.state="path";--this.pointer}return true};URLStateMachine.prototype["parse special authority slashes"]=function parseSpecialAuthoritySlashes(C){if(C===47&&this.input[this.pointer+1]===47){this.state="special authority ignore slashes";++this.pointer}else{this.parseError=true;this.state="special authority ignore slashes";--this.pointer}return true};URLStateMachine.prototype["parse special authority ignore slashes"]=function parseSpecialAuthorityIgnoreSlashes(C){if(C!==47&&C!==92){this.state="authority";--this.pointer}else{this.parseError=true}return true};URLStateMachine.prototype["parse authority"]=function parseAuthority(C,P){if(C===64){this.parseError=true;if(this.atFlag){this.buffer="%40"+this.buffer}this.atFlag=true;const C=countSymbols(this.buffer);for(let P=0;P<C;++P){const C=this.buffer.codePointAt(P);if(C===58&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=true;continue}const q=percentEncodeChar(C,isUserinfoPercentEncode);if(this.passwordTokenSeenFlag){this.url.password+=q}else{this.url.username+=q}}this.buffer=""}else if(isNaN(C)||C===47||C===63||C===35||isSpecial(this.url)&&C===92){if(this.atFlag&&this.buffer===""){this.parseError=true;return st}this.pointer-=countSymbols(this.buffer)+1;this.buffer="";this.state="host"}else{this.buffer+=P}return true};URLStateMachine.prototype["parse hostname"]=URLStateMachine.prototype["parse host"]=function parseHostName(C,P){if(this.stateOverride&&this.url.scheme==="file"){--this.pointer;this.state="file host"}else if(C===58&&!this.arrFlag){if(this.buffer===""){this.parseError=true;return st}const C=parseHost(this.buffer,isSpecial(this.url));if(C===st){return st}this.url.host=C;this.buffer="";this.state="port";if(this.stateOverride==="hostname"){return false}}else if(isNaN(C)||C===47||C===63||C===35||isSpecial(this.url)&&C===92){--this.pointer;if(isSpecial(this.url)&&this.buffer===""){this.parseError=true;return st}else if(this.stateOverride&&this.buffer===""&&(includesCredentials(this.url)||this.url.port!==null)){this.parseError=true;return false}const C=parseHost(this.buffer,isSpecial(this.url));if(C===st){return st}this.url.host=C;this.buffer="";this.state="path start";if(this.stateOverride){return false}}else{if(C===91){this.arrFlag=true}else if(C===93){this.arrFlag=false}this.buffer+=P}return true};URLStateMachine.prototype["parse port"]=function parsePort(C,P){if(isASCIIDigit(C)){this.buffer+=P}else if(isNaN(C)||C===47||C===63||C===35||isSpecial(this.url)&&C===92||this.stateOverride){if(this.buffer!==""){const C=parseInt(this.buffer);if(C>Math.pow(2,16)-1){this.parseError=true;return st}this.url.port=C===defaultPort(this.url.scheme)?null:C;this.buffer=""}if(this.stateOverride){return false}this.state="path start";--this.pointer}else{this.parseError=true;return st}return true};const Ar=new Set([47,92,63,35]);URLStateMachine.prototype["parse file"]=function parseFile(C){this.url.scheme="file";if(C===47||C===92){if(C===92){this.parseError=true}this.state="file slash"}else if(this.base!==null&&this.base.scheme==="file"){if(isNaN(C)){this.url.host=this.base.host;this.url.path=this.base.path.slice();this.url.query=this.base.query}else if(C===63){this.url.host=this.base.host;this.url.path=this.base.path.slice();this.url.query="";this.state="query"}else if(C===35){this.url.host=this.base.host;this.url.path=this.base.path.slice();this.url.query=this.base.query;this.url.fragment="";this.state="fragment"}else{if(this.input.length-this.pointer-1===0||!isWindowsDriveLetterCodePoints(C,this.input[this.pointer+1])||this.input.length-this.pointer-1>=2&&!Ar.has(this.input[this.pointer+2])){this.url.host=this.base.host;this.url.path=this.base.path.slice();shortenPath(this.url)}else{this.parseError=true}this.state="path";--this.pointer}}else{this.state="path";--this.pointer}return true};URLStateMachine.prototype["parse file slash"]=function parseFileSlash(C){if(C===47||C===92){if(C===92){this.parseError=true}this.state="file host"}else{if(this.base!==null&&this.base.scheme==="file"){if(isNormalizedWindowsDriveLetterString(this.base.path[0])){this.url.path.push(this.base.path[0])}else{this.url.host=this.base.host}}this.state="path";--this.pointer}return true};URLStateMachine.prototype["parse file host"]=function parseFileHost(C,P){if(isNaN(C)||C===47||C===92||C===63||C===35){--this.pointer;if(!this.stateOverride&&isWindowsDriveLetterString(this.buffer)){this.parseError=true;this.state="path"}else if(this.buffer===""){this.url.host="";if(this.stateOverride){return false}this.state="path start"}else{let C=parseHost(this.buffer,isSpecial(this.url));if(C===st){return st}if(C==="localhost"){C=""}this.url.host=C;if(this.stateOverride){return false}this.buffer="";this.state="path start"}}else{this.buffer+=P}return true};URLStateMachine.prototype["parse path start"]=function parsePathStart(C){if(isSpecial(this.url)){if(C===92){this.parseError=true}this.state="path";if(C!==47&&C!==92){--this.pointer}}else if(!this.stateOverride&&C===63){this.url.query="";this.state="query"}else if(!this.stateOverride&&C===35){this.url.fragment="";this.state="fragment"}else if(C!==undefined){this.state="path";if(C!==47){--this.pointer}}return true};URLStateMachine.prototype["parse path"]=function parsePath(C){if(isNaN(C)||C===47||isSpecial(this.url)&&C===92||!this.stateOverride&&(C===63||C===35)){if(isSpecial(this.url)&&C===92){this.parseError=true}if(isDoubleDot(this.buffer)){shortenPath(this.url);if(C!==47&&!(isSpecial(this.url)&&C===92)){this.url.path.push("")}}else if(isSingleDot(this.buffer)&&C!==47&&!(isSpecial(this.url)&&C===92)){this.url.path.push("")}else if(!isSingleDot(this.buffer)){if(this.url.scheme==="file"&&this.url.path.length===0&&isWindowsDriveLetterString(this.buffer)){if(this.url.host!==""&&this.url.host!==null){this.parseError=true;this.url.host=""}this.buffer=this.buffer[0]+":"}this.url.path.push(this.buffer)}this.buffer="";if(this.url.scheme==="file"&&(C===undefined||C===63||C===35)){while(this.url.path.length>1&&this.url.path[0]===""){this.parseError=true;this.url.path.shift()}}if(C===63){this.url.query="";this.state="query"}if(C===35){this.url.fragment="";this.state="fragment"}}else{if(C===37&&(!isASCIIHex(this.input[this.pointer+1])||!isASCIIHex(this.input[this.pointer+2]))){this.parseError=true}this.buffer+=percentEncodeChar(C,isPathPercentEncode)}return true};URLStateMachine.prototype["parse cannot-be-a-base-URL path"]=function parseCannotBeABaseURLPath(C){if(C===63){this.url.query="";this.state="query"}else if(C===35){this.url.fragment="";this.state="fragment"}else{if(!isNaN(C)&&C!==37){this.parseError=true}if(C===37&&(!isASCIIHex(this.input[this.pointer+1])||!isASCIIHex(this.input[this.pointer+2]))){this.parseError=true}if(!isNaN(C)){this.url.path[0]=this.url.path[0]+percentEncodeChar(C,isC0ControlPercentEncode)}}return true};URLStateMachine.prototype["parse query"]=function parseQuery(C,P){if(isNaN(C)||!this.stateOverride&&C===35){if(!isSpecial(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss"){this.encodingOverride="utf-8"}const P=new Buffer(this.buffer);for(let C=0;C<P.length;++C){if(P[C]<33||P[C]>126||P[C]===34||P[C]===35||P[C]===60||P[C]===62){this.url.query+=percentEncode(P[C])}else{this.url.query+=String.fromCodePoint(P[C])}}this.buffer="";if(C===35){this.url.fragment="";this.state="fragment"}}else{if(C===37&&(!isASCIIHex(this.input[this.pointer+1])||!isASCIIHex(this.input[this.pointer+2]))){this.parseError=true}this.buffer+=P}return true};URLStateMachine.prototype["parse fragment"]=function parseFragment(C){if(isNaN(C)){}else if(C===0){this.parseError=true}else{if(C===37&&(!isASCIIHex(this.input[this.pointer+1])||!isASCIIHex(this.input[this.pointer+2]))){this.parseError=true}this.url.fragment+=percentEncodeChar(C,isC0ControlPercentEncode)}return true};function serializeURL(C,P){let q=C.scheme+":";if(C.host!==null){q+="//";if(C.username!==""||C.password!==""){q+=C.username;if(C.password!==""){q+=":"+C.password}q+="@"}q+=serializeHost(C.host);if(C.port!==null){q+=":"+C.port}}else if(C.host===null&&C.scheme==="file"){q+="//"}if(C.cannotBeABaseURL){q+=C.path[0]}else{for(const P of C.path){q+="/"+P}}if(C.query!==null){q+="?"+C.query}if(!P&&C.fragment!==null){q+="#"+C.fragment}return q}function serializeOrigin(C){let P=C.scheme+"://";P+=serializeHost(C.host);if(C.port!==null){P+=":"+C.port}return P}C.exports.serializeURL=serializeURL;C.exports.serializeURLOrigin=function(P){switch(P.scheme){case"blob":try{return C.exports.serializeURLOrigin(C.exports.parseURL(P.path[0]))}catch(C){return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return serializeOrigin({scheme:P.scheme,host:P.host,port:P.port});case"file":return"file://";default:return"null"}};C.exports.basicURLParse=function(C,P){if(P===undefined){P={}}const q=new URLStateMachine(C,P.baseURL,P.encodingOverride,P.url,P.stateOverride);if(q.failure){return"failure"}return q.url};C.exports.setTheUsername=function(C,P){C.username="";const q=oe.ucs2.decode(P);for(let P=0;P<q.length;++P){C.username+=percentEncodeChar(q[P],isUserinfoPercentEncode)}};C.exports.setThePassword=function(C,P){C.password="";const q=oe.ucs2.decode(P);for(let P=0;P<q.length;++P){C.password+=percentEncodeChar(q[P],isUserinfoPercentEncode)}};C.exports.serializeHost=serializeHost;C.exports.cannotHaveAUsernamePasswordPort=cannotHaveAUsernamePasswordPort;C.exports.serializeInteger=function(C){return String(C)};C.exports.parseURL=function(P,q){if(q===undefined){q={}}return C.exports.basicURLParse(P,{baseURL:q.baseURL,encodingOverride:q.encodingOverride})}},153:C=>{"use strict";C.exports.mixin=function mixin(C,P){const q=Object.getOwnPropertyNames(P);for(let oe=0;oe<q.length;++oe){Object.defineProperty(C,q[oe],Object.getOwnPropertyDescriptor(P,q[oe]))}};C.exports.wrapperSymbol=Symbol("wrapper");C.exports.implSymbol=Symbol("impl");C.exports.wrapperForImpl=function(P){return P[C.exports.wrapperSymbol]};C.exports.implForWrapper=function(P){return P[C.exports.implSymbol]}},6039:C=>{C.exports=wrappy;function wrappy(C,P){if(C&&P)return wrappy(C)(P);if(typeof C!=="function")throw new TypeError("need wrapper function");Object.keys(C).forEach((function(P){wrapper[P]=C[P]}));return wrapper;function wrapper(){var P=new Array(arguments.length);for(var q=0;q<P.length;q++){P[q]=arguments[q]}var oe=C.apply(this,P);var ie=P[P.length-1];if(typeof oe==="function"&&oe!==ie){Object.keys(ie).forEach((function(C){oe[C]=ie[C]}))}return oe}}},6866:function(__unused_webpack_module,exports,__nccwpck_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(C,P,q,oe){if(oe===undefined)oe=q;var ie=Object.getOwnPropertyDescriptor(P,q);if(!ie||("get"in ie?!P.__esModule:ie.writable||ie.configurable)){ie={enumerable:true,get:function(){return P[q]}}}Object.defineProperty(C,oe,ie)}:function(C,P,q,oe){if(oe===undefined)oe=q;C[oe]=P[q]});var __setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(C,P){Object.defineProperty(C,"default",{enumerable:true,value:P})}:function(C,P){C["default"]=P});var __importStar=this&&this.__importStar||function(){var ownKeys=function(C){ownKeys=Object.getOwnPropertyNames||function(C){var P=[];for(var q in C)if(Object.prototype.hasOwnProperty.call(C,q))P[P.length]=q;return P};return ownKeys(C)};return function(C){if(C&&C.__esModule)return C;var P={};if(C!=null)for(var q=ownKeys(C),oe=0;oe<q.length;oe++)if(q[oe]!=="default")__createBinding(P,C,q[oe]);__setModuleDefault(P,C);return P}}();var __importDefault=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(exports,"__esModule",{value:true});exports.parseReviewResponse=exports.parseReviewForComments=void 0;exports.postCommentsToPR=postCommentsToPR;const core=__importStar(__nccwpck_require__(6966));const github=__importStar(__nccwpck_require__(401));const openai_1=__importDefault(__nccwpck_require__(8109));const prompts_1=__nccwpck_require__(8953);const reviewParser_1=__nccwpck_require__(9431);async function processFile(C,P,q,oe,ie){var Ge,st;if(!C.patch){return{comments:[],summary:""}}try{const Ot=await P.chat.completions.create({model:q,messages:[{role:"system",content:oe},{role:"user",content:(0,prompts_1.buildUserPrompt)(C.filename,C.patch,ie)}],max_tokens:1500,temperature:.3});const Wt=(st=(Ge=Ot.choices[0])===null||Ge===void 0?void 0:Ge.message)===null||st===void 0?void 0:st.content;if(!Wt){return{comments:[],summary:""}}const Ar=(0,reviewParser_1.parseReviewResponse)(Wt,C.filename);return{comments:Ar.comments,summary:`## ${C.filename}\n\n${Wt}\n\n`}}catch(P){core.error(`Error reviewing ${C.filename}: ${P}`);return{comments:[],summary:""}}}async function run(){var C;try{const P=core.getInput("github-token",{required:true});const q=core.getInput("openai-api-key",{required:true});const oe=core.getInput("openai-model")||"gpt-4";const ie=core.getInput("review-prompt")||prompts_1.DEFAULT_REVIEW_FOCUS;const Ge=Number.parseInt(core.getInput("max-files")||"10");const st=core.getInput("exclude-patterns")||"*.md,*.txt,*.json,*.yml,*.yaml";const Ot=github.getOctokit(P);const Wt=new openai_1.default({apiKey:q,baseURL:core.getInput("openai-base-url")});const Ar=github.context;if(!Ar.payload.pull_request){core.setFailed("This action only runs on pull requests");return}const Er=Ar.payload.pull_request;const Qr=Ar.repo.owner;const Br=Ar.repo.repo;const Ir=Er.number;const Dr=((C=Er.head)===null||C===void 0?void 0:C.sha)||Ar.sha;core.info(`Processing PR #${Ir} in ${Qr}/${Br}`);const{data:kr}=await Ot.rest.pulls.listFiles({owner:Qr,repo:Br,pull_number:Ir});const Fr=st.split(",").map((C=>C.trim()));const Nr=kr.filter((C=>!Fr.some((P=>{const q=new RegExp(P.replace(/\*/g,".*"));return q.test(C.filename)})))).slice(0,Ge);if(Nr.length===0){core.info("No files to review after filtering");return}core.info(`Reviewing ${Nr.length} files`);const Ur=(0,prompts_1.createSystemPrompt)();const Lr=[];let Or="";for(const C of Nr){core.info(`Reviewing file: ${C.filename}`);const{comments:P,summary:q}=await processFile(C,Wt,oe,Ur,ie);Lr.push(...P);Or+=q}if(Lr.length>0){await postCommentsToPR(Ot,Qr,Br,Ir,Lr,Dr);core.info(`Posted ${Lr.length} comments to PR`)}if(Or){await Ot.rest.issues.createComment({owner:Qr,repo:Br,issue_number:Ir,body:`#  AI Code Review\n\n${Or}`});core.info("Posted review summary to PR")}core.setOutput("review-summary",Or)}catch(C){core.setFailed(`Action failed: ${C}`)}}async function postCommentsToPR(C,P,q,oe,ie,Ge){const st=ie.reduce(((C,P)=>{if(!C[P.path]){C[P.path]=[]}C[P.path].push(P);return C}),{});for(const[ie,Ot]of Object.entries(st)){const st=Ot.map((C=>{var P;return{body:C.body,path:C.path,line:(P=C.line)!==null&&P!==void 0?P:1,side:"RIGHT",commit_id:Ge}}));try{await C.rest.pulls.createReview({owner:P,repo:q,pull_number:oe,comments:st,event:"COMMENT"})}catch(Ge){core.error(`Failed to post comments for ${ie}: ${Ge}`);for(const Ge of st){try{await C.rest.pulls.createReviewComment({owner:P,repo:q,pull_number:oe,body:Ge.body,commit_id:Ge.commit_id,path:Ge.path,side:Ge.side,line:Ge.line})}catch(st){core.error(`Failed to post individual comment for ${ie}: ${st}`);await C.rest.issues.createComment({owner:P,repo:q,issue_number:oe,body:`##  Review for ${ie}\n\n**Line ${Ge.line}:** ${Ge.body}`})}}}}}if(require.main===require.cache[eval("__filename")]){run()}var reviewParser_2=__nccwpck_require__(9431);Object.defineProperty(exports,"parseReviewForComments",{enumerable:true,get:function(){return reviewParser_2.parseReviewForComments}});Object.defineProperty(exports,"parseReviewResponse",{enumerable:true,get:function(){return reviewParser_2.parseReviewResponse}})},8953:(C,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:true});P.DEFAULT_REVIEW_FOCUS=void 0;P.buildUserPrompt=buildUserPrompt;P.createSystemPrompt=createSystemPrompt;const q="Focus on correctness, code quality, security, performance, test coverage, and best practices. Provide actionable, line-specific feedback whenever possible.";P.DEFAULT_REVIEW_FOCUS=q;function createSystemPrompt(){return["You are a seasoned staff-level software engineer performing code reviews on GitHub pull requests.","Your goal is to find impactful issueslogic bugs, regressions, security problems, performance pitfalls, and missing tests.","Be direct, reference line numbers from the diff, and keep feedback actionable.","Always respond with STRICT JSON (no Markdown code fences) using UTF-8 characters only."].join(" ")}function buildUserPrompt(C,P,q){return[`You are reviewing changes in the file: ${C}.`,"Assess the diff and respond with the following JSON shape:","{",'  "file_overview": "Short paragraph summarizing the overall state of the file.",','  "summary_points": ["Bullet point style takeaways for the author."],','  "positive_insights": ["Optional positive reinforcement if deserved."],','  "risks": ["List of potential regressions, missing tests, or security concerns."],','  "inline_comments": [',"    {",'      "line": <number>,','      "title": "Short label of the issue",','      "comment": "Detailed explanation referencing the code and impact.",','      "recommendation": "Concrete suggestion or fix.",','      "severity": "info | low | medium | high"',"    }","  ]","}","","Guidelines:","- Only create inline_comments for actionable issues tied to a specific line in the diff.","- If there are no issues, still populate summary_points with a high-level takeaway.","- Keep the JSON validdo not wrap it in Markdown fences or add commentary outside of the JSON.",`Custom focus areas from the user: ${q}`,"","Diff to review:","```diff",P,"```"].join("\n")}},9431:(C,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:true});P.parseReviewForComments=parseReviewForComments;P.parseReviewResponse=parseReviewResponse;function parseReviewForComments(C,P){const q=[];const oe=C.split("\n");let ie="";let Ge=null;for(const C of oe){const oe=C.match(/(?:Line|L)\s*(\d+):?/);if(oe){if(ie&&Ge){q.push({path:P,line:Ge,body:ie.trim()})}Ge=Number.parseInt(oe[1]);ie=C.replace(/(?:Line|L)\s*\d+:?/,"").trim()}else if(Ge){ie+=`\n${C}`}}if(ie&&Ge){q.push({path:P,line:Ge,body:ie.trim()})}if(q.length===0&&C.trim()){q.push({path:P,line:1,body:C.trim()})}return q}function parseReviewResponse(C,P){const q=tryParseStructuredReview(C);if(q){const oe=buildStructuredSummary(q)||C.trim();const ie=convertStructuredComments(q.inline_comments,P);return{summary:oe,comments:ie.length>0?ie:parseReviewForComments(C,P)}}return{summary:C.trim(),comments:parseReviewForComments(C,P)}}function tryParseStructuredReview(C){if(!C){return null}const P=C.trim();const q=P.match(/```(?:json)?\s*([\s\S]+?)```/i);const oe=q?q[1].trim():P;if(!oe.startsWith("{")){return null}try{const C=JSON.parse(oe);if(C&&typeof C==="object"&&!Array.isArray(C)){return C}}catch{}return null}function buildStructuredSummary(C){var P,q,oe,ie;const Ge=[];if((P=C.file_overview)===null||P===void 0?void 0:P.trim()){Ge.push(C.file_overview.trim())}if((q=C.summary_points)===null||q===void 0?void 0:q.length){const P=C.summary_points.filter((C=>typeof C==="string"&&C.trim())).map((C=>`- ${C.trim()}`));if(P.length){Ge.push(P.join("\n"))}}if((oe=C.positive_insights)===null||oe===void 0?void 0:oe.length){const P=C.positive_insights.filter((C=>typeof C==="string"&&C.trim())).map((C=>`- ${C.trim()}`));if(P.length){Ge.push(`**Positive notes**\n${P.join("\n")}`)}}if((ie=C.risks)===null||ie===void 0?void 0:ie.length){const P=C.risks.filter((C=>typeof C==="string"&&C.trim())).map((C=>`- ${C.trim()}`));if(P.length){Ge.push(`**Risks & regressions**\n${P.join("\n")}`)}}return Ge.join("\n\n").trim()}function convertStructuredComments(C,P){if(!Array.isArray(C)){return[]}return C.filter((C=>typeof C.line==="number"&&C.line>0&&C.comment)).map((C=>{var q,oe,ie,Ge;const st=[];const Ot=(q=C.title)===null||q===void 0?void 0:q.trim();const Wt=(oe=C.comment)===null||oe===void 0?void 0:oe.trim();const Ar=(ie=C.recommendation)===null||ie===void 0?void 0:ie.trim();const Er=(Ge=C.severity)===null||Ge===void 0?void 0:Ge.trim();if(Ot){st.push(`**${Ot}**`)}if(Wt){st.push(Wt)}if(Ar){st.push(`_Recommendation:_ ${Ar}`)}if(Er){st.push(`_Severity:_ ${Er}`)}return{path:P,line:C.line,body:st.join("\n\n").trim()}})).filter((C=>Boolean(C.body)))}},629:module=>{module.exports=eval("require")("encoding")},2613:C=>{"use strict";C.exports=require("assert")},290:C=>{"use strict";C.exports=require("async_hooks")},181:C=>{"use strict";C.exports=require("buffer")},7698:C=>{"use strict";C.exports=require("child_process")},4236:C=>{"use strict";C.exports=require("console")},6982:C=>{"use strict";C.exports=require("crypto")},1637:C=>{"use strict";C.exports=require("diagnostics_channel")},4434:C=>{"use strict";C.exports=require("events")},9896:C=>{"use strict";C.exports=require("fs")},8611:C=>{"use strict";C.exports=require("http")},5675:C=>{"use strict";C.exports=require("http2")},5692:C=>{"use strict";C.exports=require("https")},9278:C=>{"use strict";C.exports=require("net")},7598:C=>{"use strict";C.exports=require("node:crypto")},8474:C=>{"use strict";C.exports=require("node:events")},3024:C=>{"use strict";C.exports=require("node:fs")},7075:C=>{"use strict";C.exports=require("node:stream")},7830:C=>{"use strict";C.exports=require("node:stream/web")},7975:C=>{"use strict";C.exports=require("node:util")},857:C=>{"use strict";C.exports=require("os")},6928:C=>{"use strict";C.exports=require("path")},2987:C=>{"use strict";C.exports=require("perf_hooks")},4876:C=>{"use strict";C.exports=require("punycode")},3480:C=>{"use strict";C.exports=require("querystring")},2203:C=>{"use strict";C.exports=require("stream")},3774:C=>{"use strict";C.exports=require("stream/web")},3193:C=>{"use strict";C.exports=require("string_decoder")},3557:C=>{"use strict";C.exports=require("timers")},4756:C=>{"use strict";C.exports=require("tls")},7016:C=>{"use strict";C.exports=require("url")},9023:C=>{"use strict";C.exports=require("util")},8253:C=>{"use strict";C.exports=require("util/types")},8167:C=>{"use strict";C.exports=require("worker_threads")},3106:C=>{"use strict";C.exports=require("zlib")},2682:(C,P,q)=>{"use strict";const oe=q(7075).Writable;const ie=q(7975).inherits;const Ge=q(5868);const st=q(2424);const Ot=q(2035);const Wt=45;const Ar=Buffer.from("-");const Er=Buffer.from("\r\n");const EMPTY_FN=function(){};function Dicer(C){if(!(this instanceof Dicer)){return new Dicer(C)}oe.call(this,C);if(!C||!C.headerFirst&&typeof C.boundary!=="string"){throw new TypeError("Boundary required")}if(typeof C.boundary==="string"){this.setBoundary(C.boundary)}else{this._bparser=undefined}this._headerFirst=C.headerFirst;this._dashes=0;this._parts=0;this._finished=false;this._realFinish=false;this._isPreamble=true;this._justMatched=false;this._firstWrite=true;this._inHeader=true;this._part=undefined;this._cb=undefined;this._ignoreData=false;this._partOpts={highWaterMark:C.partHwm};this._pause=false;const P=this;this._hparser=new Ot(C);this._hparser.on("header",(function(C){P._inHeader=false;P._part.emit("header",C)}))}ie(Dicer,oe);Dicer.prototype.emit=function(C){if(C==="finish"&&!this._realFinish){if(!this._finished){const C=this;process.nextTick((function(){C.emit("error",new Error("Unexpected end of multipart data"));if(C._part&&!C._ignoreData){const P=C._isPreamble?"Preamble":"Part";C._part.emit("error",new Error(P+" terminated early due to unexpected end of multipart data"));C._part.push(null);process.nextTick((function(){C._realFinish=true;C.emit("finish");C._realFinish=false}));return}C._realFinish=true;C.emit("finish");C._realFinish=false}))}}else{oe.prototype.emit.apply(this,arguments)}};Dicer.prototype._write=function(C,P,q){if(!this._hparser&&!this._bparser){return q()}if(this._headerFirst&&this._isPreamble){if(!this._part){this._part=new st(this._partOpts);if(this.listenerCount("preamble")!==0){this.emit("preamble",this._part)}else{this._ignore()}}const P=this._hparser.push(C);if(!this._inHeader&&P!==undefined&&P<C.length){C=C.slice(P)}else{return q()}}if(this._firstWrite){this._bparser.push(Er);this._firstWrite=false}this._bparser.push(C);if(this._pause){this._cb=q}else{q()}};Dicer.prototype.reset=function(){this._part=undefined;this._bparser=undefined;this._hparser=undefined};Dicer.prototype.setBoundary=function(C){const P=this;this._bparser=new Ge("\r\n--"+C);this._bparser.on("info",(function(C,q,oe,ie){P._oninfo(C,q,oe,ie)}))};Dicer.prototype._ignore=function(){if(this._part&&!this._ignoreData){this._ignoreData=true;this._part.on("error",EMPTY_FN);this._part.resume()}};Dicer.prototype._oninfo=function(C,P,q,oe){let ie;const Ge=this;let Ot=0;let Er;let Qr=true;if(!this._part&&this._justMatched&&P){while(this._dashes<2&&q+Ot<oe){if(P[q+Ot]===Wt){++Ot;++this._dashes}else{if(this._dashes){ie=Ar}this._dashes=0;break}}if(this._dashes===2){if(q+Ot<oe&&this.listenerCount("trailer")!==0){this.emit("trailer",P.slice(q+Ot,oe))}this.reset();this._finished=true;if(Ge._parts===0){Ge._realFinish=true;Ge.emit("finish");Ge._realFinish=false}}if(this._dashes){return}}if(this._justMatched){this._justMatched=false}if(!this._part){this._part=new st(this._partOpts);this._part._read=function(C){Ge._unpause()};if(this._isPreamble&&this.listenerCount("preamble")!==0){this.emit("preamble",this._part)}else if(this._isPreamble!==true&&this.listenerCount("part")!==0){this.emit("part",this._part)}else{this._ignore()}if(!this._isPreamble){this._inHeader=true}}if(P&&q<oe&&!this._ignoreData){if(this._isPreamble||!this._inHeader){if(ie){Qr=this._part.push(ie)}Qr=this._part.push(P.slice(q,oe));if(!Qr){this._pause=true}}else if(!this._isPreamble&&this._inHeader){if(ie){this._hparser.push(ie)}Er=this._hparser.push(P.slice(q,oe));if(!this._inHeader&&Er!==undefined&&Er<oe){this._oninfo(false,P,q+Er,oe)}}}if(C){this._hparser.reset();if(this._isPreamble){this._isPreamble=false}else{if(q!==oe){++this._parts;this._part.on("end",(function(){if(--Ge._parts===0){if(Ge._finished){Ge._realFinish=true;Ge.emit("finish");Ge._realFinish=false}else{Ge._unpause()}}}))}}this._part.push(null);this._part=undefined;this._ignoreData=false;this._justMatched=true;this._dashes=0}};Dicer.prototype._unpause=function(){if(!this._pause){return}this._pause=false;if(this._cb){const C=this._cb;this._cb=undefined;C()}};C.exports=Dicer},2035:(C,P,q)=>{"use strict";const oe=q(8474).EventEmitter;const ie=q(7975).inherits;const Ge=q(4165);const st=q(5868);const Ot=Buffer.from("\r\n\r\n");const Wt=/\r\n/g;const Ar=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function HeaderParser(C){oe.call(this);C=C||{};const P=this;this.nread=0;this.maxed=false;this.npairs=0;this.maxHeaderPairs=Ge(C,"maxHeaderPairs",2e3);this.maxHeaderSize=Ge(C,"maxHeaderSize",80*1024);this.buffer="";this.header={};this.finished=false;this.ss=new st(Ot);this.ss.on("info",(function(C,q,oe,ie){if(q&&!P.maxed){if(P.nread+ie-oe>=P.maxHeaderSize){ie=P.maxHeaderSize-P.nread+oe;P.nread=P.maxHeaderSize;P.maxed=true}else{P.nread+=ie-oe}P.buffer+=q.toString("binary",oe,ie)}if(C){P._finish()}}))}ie(HeaderParser,oe);HeaderParser.prototype.push=function(C){const P=this.ss.push(C);if(this.finished){return P}};HeaderParser.prototype.reset=function(){this.finished=false;this.buffer="";this.header={};this.ss.reset()};HeaderParser.prototype._finish=function(){if(this.buffer){this._parseHeader()}this.ss.matches=this.ss.maxMatches;const C=this.header;this.header={};this.buffer="";this.finished=true;this.nread=this.npairs=0;this.maxed=false;this.emit("header",C)};HeaderParser.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs){return}const C=this.buffer.split(Wt);const P=C.length;let q,oe;for(var ie=0;ie<P;++ie){if(C[ie].length===0){continue}if(C[ie][0]==="\t"||C[ie][0]===" "){if(oe){this.header[oe][this.header[oe].length-1]+=C[ie];continue}}const P=C[ie].indexOf(":");if(P===-1||P===0){return}q=Ar.exec(C[ie]);oe=q[1].toLowerCase();this.header[oe]=this.header[oe]||[];this.header[oe].push(q[2]||"");if(++this.npairs===this.maxHeaderPairs){break}}};C.exports=HeaderParser},2424:(C,P,q)=>{"use strict";const oe=q(7975).inherits;const ie=q(7075).Readable;function PartStream(C){ie.call(this,C)}oe(PartStream,ie);PartStream.prototype._read=function(C){};C.exports=PartStream},5868:(C,P,q)=>{"use strict";const oe=q(8474).EventEmitter;const ie=q(7975).inherits;function SBMH(C){if(typeof C==="string"){C=Buffer.from(C)}if(!Buffer.isBuffer(C)){throw new TypeError("The needle has to be a String or a Buffer.")}const P=C.length;if(P===0){throw new Error("The needle cannot be an empty String/Buffer.")}if(P>256){throw new Error("The needle cannot have a length bigger than 256.")}this.maxMatches=Infinity;this.matches=0;this._occ=new Array(256).fill(P);this._lookbehind_size=0;this._needle=C;this._bufpos=0;this._lookbehind=Buffer.alloc(P);for(var q=0;q<P-1;++q){this._occ[C[q]]=P-1-q}}ie(SBMH,oe);SBMH.prototype.reset=function(){this._lookbehind_size=0;this.matches=0;this._bufpos=0};SBMH.prototype.push=function(C,P){if(!Buffer.isBuffer(C)){C=Buffer.from(C,"binary")}const q=C.length;this._bufpos=P||0;let oe;while(oe!==q&&this.matches<this.maxMatches){oe=this._sbmh_feed(C)}return oe};SBMH.prototype._sbmh_feed=function(C){const P=C.length;const q=this._needle;const oe=q.length;const ie=q[oe-1];let Ge=-this._lookbehind_size;let st;if(Ge<0){while(Ge<0&&Ge<=P-oe){st=this._sbmh_lookup_char(C,Ge+oe-1);if(st===ie&&this._sbmh_memcmp(C,Ge,oe-1)){this._lookbehind_size=0;++this.matches;this.emit("info",true);return this._bufpos=Ge+oe}Ge+=this._occ[st]}if(Ge<0){while(Ge<0&&!this._sbmh_memcmp(C,Ge,P-Ge)){++Ge}}if(Ge>=0){this.emit("info",false,this._lookbehind,0,this._lookbehind_size);this._lookbehind_size=0}else{const q=this._lookbehind_size+Ge;if(q>0){this.emit("info",false,this._lookbehind,0,q)}this._lookbehind.copy(this._lookbehind,0,q,this._lookbehind_size-q);this._lookbehind_size-=q;C.copy(this._lookbehind,this._lookbehind_size);this._lookbehind_size+=P;this._bufpos=P;return P}}Ge+=(Ge>=0)*this._bufpos;if(C.indexOf(q,Ge)!==-1){Ge=C.indexOf(q,Ge);++this.matches;if(Ge>0){this.emit("info",true,C,this._bufpos,Ge)}else{this.emit("info",true)}return this._bufpos=Ge+oe}else{Ge=P-oe}while(Ge<P&&(C[Ge]!==q[0]||Buffer.compare(C.subarray(Ge,Ge+P-Ge),q.subarray(0,P-Ge))!==0)){++Ge}if(Ge<P){C.copy(this._lookbehind,0,Ge,Ge+(P-Ge));this._lookbehind_size=P-Ge}if(Ge>0){this.emit("info",false,C,this._bufpos,Ge<P?Ge:P)}this._bufpos=P;return P};SBMH.prototype._sbmh_lookup_char=function(C,P){return P<0?this._lookbehind[this._lookbehind_size+P]:C[P]};SBMH.prototype._sbmh_memcmp=function(C,P,q){for(var oe=0;oe<q;++oe){if(this._sbmh_lookup_char(C,P+oe)!==this._needle[oe]){return false}}return true};C.exports=SBMH},2105:(C,P,q)=>{"use strict";const oe=q(7075).Writable;const{inherits:ie}=q(7975);const Ge=q(2682);const st=q(3548);const Ot=q(5915);const Wt=q(1493);function Busboy(C){if(!(this instanceof Busboy)){return new Busboy(C)}if(typeof C!=="object"){throw new TypeError("Busboy expected an options-Object.")}if(typeof C.headers!=="object"){throw new TypeError("Busboy expected an options-Object with headers-attribute.")}if(typeof C.headers["content-type"]!=="string"){throw new TypeError("Missing Content-Type-header.")}const{headers:P,...q}=C;this.opts={autoDestroy:false,...q};oe.call(this,this.opts);this._done=false;this._parser=this.getParserByHeaders(P);this._finished=false}ie(Busboy,oe);Busboy.prototype.emit=function(C){if(C==="finish"){if(!this._done){this._parser?.end();return}else if(this._finished){return}this._finished=true}oe.prototype.emit.apply(this,arguments)};Busboy.prototype.getParserByHeaders=function(C){const P=Wt(C["content-type"]);const q={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:C,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:P,preservePath:this.opts.preservePath};if(st.detect.test(P[0])){return new st(this,q)}if(Ot.detect.test(P[0])){return new Ot(this,q)}throw new Error("Unsupported Content-Type.")};Busboy.prototype._write=function(C,P,q){this._parser.write(C,q)};C.exports=Busboy;C.exports["default"]=Busboy;C.exports.Busboy=Busboy;C.exports.Dicer=Ge},3548:(C,P,q)=>{"use strict";const{Readable:oe}=q(7075);const{inherits:ie}=q(7975);const Ge=q(2682);const st=q(1493);const Ot=q(7015);const Wt=q(1744);const Ar=q(4165);const Er=/^boundary$/i;const Qr=/^form-data$/i;const Br=/^charset$/i;const Ir=/^filename$/i;const Dr=/^name$/i;Multipart.detect=/^multipart\/form-data/i;function Multipart(C,P){let q;let oe;const ie=this;let kr;const Fr=P.limits;const Nr=P.isPartAFile||((C,P,q)=>P==="application/octet-stream"||q!==undefined);const Ur=P.parsedConType||[];const Lr=P.defCharset||"utf8";const Or=P.preservePath;const Mr={highWaterMark:P.fileHwm};for(q=0,oe=Ur.length;q<oe;++q){if(Array.isArray(Ur[q])&&Er.test(Ur[q][0])){kr=Ur[q][1];break}}function checkFinished(){if(Xr===0&&$r&&!C._done){$r=false;ie.end()}}if(typeof kr!=="string"){throw new Error("Multipart: Boundary not found")}const Gr=Ar(Fr,"fieldSize",1*1024*1024);const Vr=Ar(Fr,"fileSize",Infinity);const Hr=Ar(Fr,"files",Infinity);const xr=Ar(Fr,"fields",Infinity);const Yr=Ar(Fr,"parts",Infinity);const Jr=Ar(Fr,"headerPairs",2e3);const jr=Ar(Fr,"headerSize",80*1024);let Wr=0;let zr=0;let Xr=0;let Zr;let Kr;let $r=false;this._needDrain=false;this._pause=false;this._cb=undefined;this._nparts=0;this._boy=C;const es={boundary:kr,maxHeaderPairs:Jr,maxHeaderSize:jr,partHwm:Mr.highWaterMark,highWaterMark:P.highWaterMark};this.parser=new Ge(es);this.parser.on("drain",(function(){ie._needDrain=false;if(ie._cb&&!ie._pause){const C=ie._cb;ie._cb=undefined;C()}})).on("part",(function onPart(P){if(++ie._nparts>Yr){ie.parser.removeListener("part",onPart);ie.parser.on("part",skipPart);C.hitPartsLimit=true;C.emit("partsLimit");return skipPart(P)}if(Kr){const C=Kr;C.emit("end");C.removeAllListeners("end")}P.on("header",(function(Ge){let Ar;let Er;let kr;let Fr;let Ur;let Yr;let Jr=0;if(Ge["content-type"]){kr=st(Ge["content-type"][0]);if(kr[0]){Ar=kr[0].toLowerCase();for(q=0,oe=kr.length;q<oe;++q){if(Br.test(kr[q][0])){Fr=kr[q][1].toLowerCase();break}}}}if(Ar===undefined){Ar="text/plain"}if(Fr===undefined){Fr=Lr}if(Ge["content-disposition"]){kr=st(Ge["content-disposition"][0]);if(!Qr.test(kr[0])){return skipPart(P)}for(q=0,oe=kr.length;q<oe;++q){if(Dr.test(kr[q][0])){Er=kr[q][1]}else if(Ir.test(kr[q][0])){Yr=kr[q][1];if(!Or){Yr=Wt(Yr)}}}}else{return skipPart(P)}if(Ge["content-transfer-encoding"]){Ur=Ge["content-transfer-encoding"][0].toLowerCase()}else{Ur="7bit"}let jr,$r;if(Nr(Er,Ar,Yr)){if(Wr===Hr){if(!C.hitFilesLimit){C.hitFilesLimit=true;C.emit("filesLimit")}return skipPart(P)}++Wr;if(C.listenerCount("file")===0){ie.parser._ignore();return}++Xr;const q=new FileStream(Mr);Zr=q;q.on("end",(function(){--Xr;ie._pause=false;checkFinished();if(ie._cb&&!ie._needDrain){const C=ie._cb;ie._cb=undefined;C()}}));q._read=function(C){if(!ie._pause){return}ie._pause=false;if(ie._cb&&!ie._needDrain){const C=ie._cb;ie._cb=undefined;C()}};C.emit("file",Er,q,Yr,Ur,Ar);jr=function(C){if((Jr+=C.length)>Vr){const oe=Vr-Jr+C.length;if(oe>0){q.push(C.slice(0,oe))}q.truncated=true;q.bytesRead=Vr;P.removeAllListeners("data");q.emit("limit");return}else if(!q.push(C)){ie._pause=true}q.bytesRead=Jr};$r=function(){Zr=undefined;q.push(null)}}else{if(zr===xr){if(!C.hitFieldsLimit){C.hitFieldsLimit=true;C.emit("fieldsLimit")}return skipPart(P)}++zr;++Xr;let q="";let oe=false;Kr=P;jr=function(C){if((Jr+=C.length)>Gr){const ie=Gr-(Jr-C.length);q+=C.toString("binary",0,ie);oe=true;P.removeAllListeners("data")}else{q+=C.toString("binary")}};$r=function(){Kr=undefined;if(q.length){q=Ot(q,"binary",Fr)}C.emit("field",Er,q,false,oe,Ur,Ar);--Xr;checkFinished()}}P._readableState.sync=false;P.on("data",jr);P.on("end",$r)})).on("error",(function(C){if(Zr){Zr.emit("error",C)}}))})).on("error",(function(P){C.emit("error",P)})).on("finish",(function(){$r=true;checkFinished()}))}Multipart.prototype.write=function(C,P){const q=this.parser.write(C);if(q&&!this._pause){P()}else{this._needDrain=!q;this._cb=P}};Multipart.prototype.end=function(){const C=this;if(C.parser.writable){C.parser.end()}else if(!C._boy._done){process.nextTick((function(){C._boy._done=true;C._boy.emit("finish")}))}};function skipPart(C){C.resume()}function FileStream(C){oe.call(this,C);this.bytesRead=0;this.truncated=false}ie(FileStream,oe);FileStream.prototype._read=function(C){};C.exports=Multipart},5915:(C,P,q)=>{"use strict";const oe=q(5332);const ie=q(7015);const Ge=q(4165);const st=/^charset$/i;UrlEncoded.detect=/^application\/x-www-form-urlencoded/i;function UrlEncoded(C,P){const q=P.limits;const ie=P.parsedConType;this.boy=C;this.fieldSizeLimit=Ge(q,"fieldSize",1*1024*1024);this.fieldNameSizeLimit=Ge(q,"fieldNameSize",100);this.fieldsLimit=Ge(q,"fields",Infinity);let Ot;for(var Wt=0,Ar=ie.length;Wt<Ar;++Wt){if(Array.isArray(ie[Wt])&&st.test(ie[Wt][0])){Ot=ie[Wt][1].toLowerCase();break}}if(Ot===undefined){Ot=P.defCharset||"utf8"}this.decoder=new oe;this.charset=Ot;this._fields=0;this._state="key";this._checkingBytes=true;this._bytesKey=0;this._bytesVal=0;this._key="";this._val="";this._keyTrunc=false;this._valTrunc=false;this._hitLimit=false}UrlEncoded.prototype.write=function(C,P){if(this._fields===this.fieldsLimit){if(!this.boy.hitFieldsLimit){this.boy.hitFieldsLimit=true;this.boy.emit("fieldsLimit")}return P()}let q;let oe;let Ge;let st=0;const Ot=C.length;while(st<Ot){if(this._state==="key"){q=oe=undefined;for(Ge=st;Ge<Ot;++Ge){if(!this._checkingBytes){++st}if(C[Ge]===61){q=Ge;break}else if(C[Ge]===38){oe=Ge;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=true;break}else if(this._checkingBytes){++this._bytesKey}}if(q!==undefined){if(q>st){this._key+=this.decoder.write(C.toString("binary",st,q))}this._state="val";this._hitLimit=false;this._checkingBytes=true;this._val="";this._bytesVal=0;this._valTrunc=false;this.decoder.reset();st=q+1}else if(oe!==undefined){++this._fields;let q;const Ge=this._keyTrunc;if(oe>st){q=this._key+=this.decoder.write(C.toString("binary",st,oe))}else{q=this._key}this._hitLimit=false;this._checkingBytes=true;this._key="";this._bytesKey=0;this._keyTrunc=false;this.decoder.reset();if(q.length){this.boy.emit("field",ie(q,"binary",this.charset),"",Ge,false)}st=oe+1;if(this._fields===this.fieldsLimit){return P()}}else if(this._hitLimit){if(Ge>st){this._key+=this.decoder.write(C.toString("binary",st,Ge))}st=Ge;if((this._bytesKey=this._key.length)===this.fieldNameSizeLimit){this._checkingBytes=false;this._keyTrunc=true}}else{if(st<Ot){this._key+=this.decoder.write(C.toString("binary",st))}st=Ot}}else{oe=undefined;for(Ge=st;Ge<Ot;++Ge){if(!this._checkingBytes){++st}if(C[Ge]===38){oe=Ge;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=true;break}else if(this._checkingBytes){++this._bytesVal}}if(oe!==undefined){++this._fields;if(oe>st){this._val+=this.decoder.write(C.toString("binary",st,oe))}this.boy.emit("field",ie(this._key,"binary",this.charset),ie(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc);this._state="key";this._hitLimit=false;this._checkingBytes=true;this._key="";this._bytesKey=0;this._keyTrunc=false;this.decoder.reset();st=oe+1;if(this._fields===this.fieldsLimit){return P()}}else if(this._hitLimit){if(Ge>st){this._val+=this.decoder.write(C.toString("binary",st,Ge))}st=Ge;if(this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit){this._checkingBytes=false;this._valTrunc=true}}else{if(st<Ot){this._val+=this.decoder.write(C.toString("binary",st))}st=Ot}}}P()};UrlEncoded.prototype.end=function(){if(this.boy._done){return}if(this._state==="key"&&this._key.length>0){this.boy.emit("field",ie(this._key,"binary",this.charset),"",this._keyTrunc,false)}else if(this._state==="val"){this.boy.emit("field",ie(this._key,"binary",this.charset),ie(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc)}this.boy._done=true;this.boy.emit("finish")};C.exports=UrlEncoded},5332:C=>{"use strict";const P=/\+/g;const q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Decoder(){this.buffer=undefined}Decoder.prototype.write=function(C){C=C.replace(P," ");let oe="";let ie=0;let Ge=0;const st=C.length;for(;ie<st;++ie){if(this.buffer!==undefined){if(!q[C.charCodeAt(ie)]){oe+="%"+this.buffer;this.buffer=undefined;--ie}else{this.buffer+=C[ie];++Ge;if(this.buffer.length===2){oe+=String.fromCharCode(parseInt(this.buffer,16));this.buffer=undefined}}}else if(C[ie]==="%"){if(ie>Ge){oe+=C.substring(Ge,ie);Ge=ie}this.buffer="";++Ge}}if(Ge<st&&this.buffer===undefined){oe+=C.substring(Ge)}return oe};Decoder.prototype.reset=function(){this.buffer=undefined};C.exports=Decoder},1744:C=>{"use strict";C.exports=function basename(C){if(typeof C!=="string"){return""}for(var P=C.length-1;P>=0;--P){switch(C.charCodeAt(P)){case 47:case 92:C=C.slice(P+1);return C===".."||C==="."?"":C}}return C===".."||C==="."?"":C}},7015:function(C){"use strict";const P=new TextDecoder("utf-8");const q=new Map([["utf-8",P],["utf8",P]]);function getDecoder(C){let P;while(true){switch(C){case"utf-8":case"utf8":return oe.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return oe.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return oe.utf16le;case"base64":return oe.base64;default:if(P===undefined){P=true;C=C.toLowerCase();continue}return oe.other.bind(C)}}}const oe={utf8:(C,P)=>{if(C.length===0){return""}if(typeof C==="string"){C=Buffer.from(C,P)}return C.utf8Slice(0,C.length)},latin1:(C,P)=>{if(C.length===0){return""}if(typeof C==="string"){return C}return C.latin1Slice(0,C.length)},utf16le:(C,P)=>{if(C.length===0){return""}if(typeof C==="string"){C=Buffer.from(C,P)}return C.ucs2Slice(0,C.length)},base64:(C,P)=>{if(C.length===0){return""}if(typeof C==="string"){C=Buffer.from(C,P)}return C.base64Slice(0,C.length)},other:(C,P)=>{if(C.length===0){return""}if(typeof C==="string"){C=Buffer.from(C,P)}if(q.has(this.toString())){try{return q.get(this).decode(C)}catch{}}return typeof C==="string"?C:C.toString()}};function decodeText(C,P,q){if(C){return getDecoder(q)(C,P)}return C}C.exports=decodeText},4165:C=>{"use strict";C.exports=function getLimit(C,P,q){if(!C||C[P]===undefined||C[P]===null){return q}if(typeof C[P]!=="number"||isNaN(C[P])){throw new TypeError("Limit "+P+" is not a valid number")}return C[P]}},1493:(C,P,q)=>{"use strict";const oe=q(7015);const ie=/%[a-fA-F0-9][a-fA-F0-9]/g;const Ge={"%00":"\0","%01":"","%02":"","%03":"","%04":"","%05":"","%06":"","%07":"","%08":"\b","%09":"\t","%0a":"\n","%0A":"\n","%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"","%0E":"","%0f":"","%0F":"","%10":"","%11":"","%12":"","%13":"","%14":"","%15":"","%16":"","%17":"","%18":"","%19":"","%1a":"","%1A":"","%1b":"","%1B":"","%1c":"","%1C":"","%1d":"","%1D":"","%1e":"","%1E":"","%1f":"","%1F":"","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"","%7F":"","%80":"","%81":"","%82":"","%83":"","%84":"","%85":"","%86":"","%87":"","%88":"","%89":"","%8a":"","%8A":"","%8b":"","%8B":"","%8c":"","%8C":"","%8d":"","%8D":"","%8e":"","%8E":"","%8f":"","%8F":"","%90":"","%91":"","%92":"","%93":"","%94":"","%95":"","%96":"","%97":"","%98":"","%99":"","%9a":"","%9A":"","%9b":"","%9B":"","%9c":"","%9C":"","%9d":"","%9D":"","%9e":"","%9E":"","%9f":"","%9F":"","%a0":"","%A0":"","%a1":"","%A1":"","%a2":"","%A2":"","%a3":"","%A3":"","%a4":"","%A4":"","%a5":"","%A5":"","%a6":"","%A6":"","%a7":"","%A7":"","%a8":"","%A8":"","%a9":"","%A9":"","%aa":"","%Aa":"","%aA":"","%AA":"","%ab":"","%Ab":"","%aB":"","%AB":"","%ac":"","%Ac":"","%aC":"","%AC":"","%ad":"","%Ad":"","%aD":"","%AD":"","%ae":"","%Ae":"","%aE":"","%AE":"","%af":"","%Af":"","%aF":"","%AF":"","%b0":"","%B0":"","%b1":"","%B1":"","%b2":"","%B2":"","%b3":"","%B3":"","%b4":"","%B4":"","%b5":"","%B5":"","%b6":"","%B6":"","%b7":"","%B7":"","%b8":"","%B8":"","%b9":"","%B9":"","%ba":"","%Ba":"","%bA":"","%BA":"","%bb":"","%Bb":"","%bB":"","%BB":"","%bc":"","%Bc":"","%bC":"","%BC":"","%bd":"","%Bd":"","%bD":"","%BD":"","%be":"","%Be":"","%bE":"","%BE":"","%bf":"","%Bf":"","%bF":"","%BF":"","%c0":"","%C0":"","%c1":"","%C1":"","%c2":"","%C2":"","%c3":"","%C3":"","%c4":"","%C4":"","%c5":"","%C5":"","%c6":"","%C6":"","%c7":"","%C7":"","%c8":"","%C8":"","%c9":"","%C9":"","%ca":"","%Ca":"","%cA":"","%CA":"","%cb":"","%Cb":"","%cB":"","%CB":"","%cc":"","%Cc":"","%cC":"","%CC":"","%cd":"","%Cd":"","%cD":"","%CD":"","%ce":"","%Ce":"","%cE":"","%CE":"","%cf":"","%Cf":"","%cF":"","%CF":"","%d0":"","%D0":"","%d1":"","%D1":"","%d2":"","%D2":"","%d3":"","%D3":"","%d4":"","%D4":"","%d5":"","%D5":"","%d6":"","%D6":"","%d7":"","%D7":"","%d8":"","%D8":"","%d9":"","%D9":"","%da":"","%Da":"","%dA":"","%DA":"","%db":"","%Db":"","%dB":"","%DB":"","%dc":"","%Dc":"","%dC":"","%DC":"","%dd":"","%Dd":"","%dD":"","%DD":"","%de":"","%De":"","%dE":"","%DE":"","%df":"","%Df":"","%dF":"","%DF":"","%e0":"","%E0":"","%e1":"","%E1":"","%e2":"","%E2":"","%e3":"","%E3":"","%e4":"","%E4":"","%e5":"","%E5":"","%e6":"","%E6":"","%e7":"","%E7":"","%e8":"","%E8":"","%e9":"","%E9":"","%ea":"","%Ea":"","%eA":"","%EA":"","%eb":"","%Eb":"","%eB":"","%EB":"","%ec":"","%Ec":"","%eC":"","%EC":"","%ed":"","%Ed":"","%eD":"","%ED":"","%ee":"","%Ee":"","%eE":"","%EE":"","%ef":"","%Ef":"","%eF":"","%EF":"","%f0":"","%F0":"","%f1":"","%F1":"","%f2":"","%F2":"","%f3":"","%F3":"","%f4":"","%F4":"","%f5":"","%F5":"","%f6":"","%F6":"","%f7":"","%F7":"","%f8":"","%F8":"","%f9":"","%F9":"","%fa":"","%Fa":"","%fA":"","%FA":"","%fb":"","%Fb":"","%fB":"","%FB":"","%fc":"","%Fc":"","%fC":"","%FC":"","%fd":"","%Fd":"","%fD":"","%FD":"","%fe":"","%Fe":"","%fE":"","%FE":"","%ff":"","%Ff":"","%fF":"","%FF":""};function encodedReplacer(C){return Ge[C]}const st=0;const Ot=1;const Wt=2;const Ar=3;function parseParams(C){const P=[];let q=st;let Ge="";let Er=false;let Qr=false;let Br=0;let Ir="";const Dr=C.length;for(var kr=0;kr<Dr;++kr){const Dr=C[kr];if(Dr==="\\"&&Er){if(Qr){Qr=false}else{Qr=true;continue}}else if(Dr==='"'){if(!Qr){if(Er){Er=false;q=st}else{Er=true}continue}else{Qr=false}}else{if(Qr&&Er){Ir+="\\"}Qr=false;if((q===Wt||q===Ar)&&Dr==="'"){if(q===Wt){q=Ar;Ge=Ir.substring(1)}else{q=Ot}Ir="";continue}else if(q===st&&(Dr==="*"||Dr==="=")&&P.length){q=Dr==="*"?Wt:Ot;P[Br]=[Ir,undefined];Ir="";continue}else if(!Er&&Dr===";"){q=st;if(Ge){if(Ir.length){Ir=oe(Ir.replace(ie,encodedReplacer),"binary",Ge)}Ge=""}else if(Ir.length){Ir=oe(Ir,"binary","utf8")}if(P[Br]===undefined){P[Br]=Ir}else{P[Br][1]=Ir}Ir="";++Br;continue}else if(!Er&&(Dr===" "||Dr==="\t")){continue}}Ir+=Dr}if(Ge&&Ir.length){Ir=oe(Ir.replace(ie,encodedReplacer),"binary",Ge)}else if(Ir){Ir=oe(Ir,"binary","utf8")}if(P[Br]===undefined){if(Ir){P[Br]=Ir}}else{P[Br][1]=Ir}return P}C.exports=parseParams},554:(C,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:true})},1217:function(C,P,q){"use strict";var oe=this&&this.__classPrivateFieldSet||function(C,P,q,oe,ie){if(oe==="m")throw new TypeError("Private method is not writable");if(oe==="a"&&!ie)throw new TypeError("Private accessor was defined without a setter");if(typeof P==="function"?C!==P||!ie:!P.has(C))throw new TypeError("Cannot write private member to an object whose class did not declare it");return oe==="a"?ie.call(C,q):ie?ie.value=q:P.set(C,q),q};var ie=this&&this.__classPrivateFieldGet||function(C,P,q,oe){if(q==="a"&&!oe)throw new TypeError("Private accessor was defined without a getter");if(typeof P==="function"?C!==P||!oe:!P.has(C))throw new TypeError("Cannot read private member from an object whose class did not declare it");return q==="m"?oe:q==="a"?oe.call(C):oe?oe.value:P.get(C)};var Ge=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};var st,Ot,Wt,Ar,Er,Qr,Br,Ir,Dr,kr;Object.defineProperty(P,"__esModule",{value:true});P.Encoder=P.FormDataEncoder=void 0;const Fr=Ge(q(2396));const Nr=Ge(q(5667));const Ur=Ge(q(3334));const Lr=Ge(q(4870));const Or=q(8479);const Mr=q(7052);const Gr={enableAdditionalHeaders:false};class FormDataEncoder{constructor(C,P,q){st.add(this);Ot.set(this,"\r\n");Wt.set(this,void 0);Ar.set(this,void 0);Er.set(this,"-".repeat(2));Qr.set(this,new TextEncoder);Br.set(this,void 0);Ir.set(this,void 0);Dr.set(this,void 0);if(!(0,Mr.isFormData)(C)){throw new TypeError("Expected first argument to be a FormData instance.")}let Ge;if((0,Nr.default)(P)){q=P}else{Ge=P}if(!Ge){Ge=(0,Fr.default)()}if(typeof Ge!=="string"){throw new TypeError("Expected boundary argument to be a string.")}if(q&&!(0,Nr.default)(q)){throw new TypeError("Expected options argument to be an object.")}oe(this,Ir,C,"f");oe(this,Dr,{...Gr,...q},"f");oe(this,Wt,ie(this,Qr,"f").encode(ie(this,Ot,"f")),"f");oe(this,Ar,ie(this,Wt,"f").byteLength,"f");this.boundary=`form-data-boundary-${Ge}`;this.contentType=`multipart/form-data; boundary=${this.boundary}`;oe(this,Br,ie(this,Qr,"f").encode(`${ie(this,Er,"f")}${this.boundary}${ie(this,Er,"f")}${ie(this,Ot,"f").repeat(2)}`),"f");this.contentLength=String(this.getContentLength());this.headers=Object.freeze({"Content-Type":this.contentType,"Content-Length":this.contentLength});Object.defineProperties(this,{boundary:{writable:false,configurable:false},contentType:{writable:false,configurable:false},contentLength:{writable:false,configurable:false},headers:{writable:false,configurable:false}})}getContentLength(){let C=0;for(const[P,q]of ie(this,Ir,"f")){const oe=(0,Or.isFileLike)(q)?q:ie(this,Qr,"f").encode((0,Ur.default)(q));C+=ie(this,st,"m",kr).call(this,P,oe).byteLength;C+=(0,Or.isFileLike)(oe)?oe.size:oe.byteLength;C+=ie(this,Ar,"f")}return C+ie(this,Br,"f").byteLength}*values(){for(const[C,P]of ie(this,Ir,"f").entries()){const q=(0,Or.isFileLike)(P)?P:ie(this,Qr,"f").encode((0,Ur.default)(P));yield ie(this,st,"m",kr).call(this,C,q);yield q;yield ie(this,Wt,"f")}yield ie(this,Br,"f")}async*encode(){for(const C of this.values()){if((0,Or.isFileLike)(C)){yield*C.stream()}else{yield C}}}[(Ot=new WeakMap,Wt=new WeakMap,Ar=new WeakMap,Er=new WeakMap,Qr=new WeakMap,Br=new WeakMap,Ir=new WeakMap,Dr=new WeakMap,st=new WeakSet,kr=function _FormDataEncoder_getFieldHeader(C,P){let q="";q+=`${ie(this,Er,"f")}${this.boundary}${ie(this,Ot,"f")}`;q+=`Content-Disposition: form-data; name="${(0,Lr.default)(C)}"`;if((0,Or.isFileLike)(P)){q+=`; filename="${(0,Lr.default)(P.name)}"${ie(this,Ot,"f")}`;q+=`Content-Type: ${P.type||"application/octet-stream"}`}if(ie(this,Dr,"f").enableAdditionalHeaders===true){q+=`${ie(this,Ot,"f")}Content-Length: ${(0,Or.isFileLike)(P)?P.size:P.byteLength}`}return ie(this,Qr,"f").encode(`${q}${ie(this,Ot,"f").repeat(2)}`)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}}P.FormDataEncoder=FormDataEncoder;P.Encoder=FormDataEncoder},6090:(C,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:true})},5407:function(C,P,q){"use strict";var oe=this&&this.__createBinding||(Object.create?function(C,P,q,oe){if(oe===undefined)oe=q;Object.defineProperty(C,oe,{enumerable:true,get:function(){return P[q]}})}:function(C,P,q,oe){if(oe===undefined)oe=q;C[oe]=P[q]});var ie=this&&this.__exportStar||function(C,P){for(var q in C)if(q!=="default"&&!Object.prototype.hasOwnProperty.call(P,q))oe(P,C,q)};Object.defineProperty(P,"__esModule",{value:true});ie(q(1217),P);ie(q(554),P);ie(q(6090),P);ie(q(8479),P);ie(q(7052),P)},2396:(C,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:true});const q="abcdefghijklmnopqrstuvwxyz0123456789";function createBoundary(){let C=16;let P="";while(C--){P+=q[Math.random()*q.length<<0]}return P}P["default"]=createBoundary},4870:(C,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:true});const escapeName=C=>String(C).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22");P["default"]=escapeName},8479:function(C,P,q){"use strict";var oe=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(P,"__esModule",{value:true});P.isFileLike=void 0;const ie=oe(q(1386));const isFileLike=C=>Boolean(C&&typeof C==="object"&&(0,ie.default)(C.constructor)&&C[Symbol.toStringTag]==="File"&&(0,ie.default)(C.stream)&&C.name!=null&&C.size!=null&&C.lastModified!=null);P.isFileLike=isFileLike},7052:function(C,P,q){"use strict";var oe=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(P,"__esModule",{value:true});P.isFormDataLike=P.isFormData=void 0;const ie=oe(q(1386));const isFormData=C=>Boolean(C&&(0,ie.default)(C.constructor)&&C[Symbol.toStringTag]==="FormData"&&(0,ie.default)(C.append)&&(0,ie.default)(C.getAll)&&(0,ie.default)(C.entries)&&(0,ie.default)(C[Symbol.iterator]));P.isFormData=isFormData;P.isFormDataLike=P.isFormData},1386:(C,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:true});const isFunction=C=>typeof C==="function";P["default"]=isFunction},5667:(C,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:true});const getType=C=>Object.prototype.toString.call(C).slice(8,-1).toLowerCase();function isPlainObject(C){if(getType(C)!=="object"){return false}const P=Object.getPrototypeOf(C);if(P===null||P===undefined){return true}const q=P.constructor&&P.constructor.toString();return q===Object.toString()}P["default"]=isPlainObject},3334:(C,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:true});const normalizeValue=C=>String(C).replace(/\r|\n/g,((C,P,q)=>{if(C==="\r"&&q[P+1]!=="\n"||C==="\n"&&q[P-1]!=="\r"){return"\r\n"}return C}));P["default"]=normalizeValue},9349:function(C,P,q){"use strict";